when:
  path: /v1/messages
  method: POST
  json_body_str: >-
    {
      "messages": [
        {
          "role": "user",
          "content": [
            {
              "type": "text",
              "text": "Test message",
              "cache_control": {
                "type": "ephemeral"
              }
            }
          ]
        }
      ],
      "model": "claude-haiku-4-5",
      "max_tokens": 64000,
      "stream": true
    }
then:
  status: 200
  header:
    - name: content-type
      value: text/event-stream; charset=utf-8
  body: |+
    event: message_start
    data: {"type":"message_start","message":{"model":"claude-haiku-4-5-20251001","id":"msg_016MmhtZ5skf7DW63N6432u5","type":"message","role":"assistant","content":[],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":9,"cache_creation_input_tokens":0,"cache_read_input_tokens":0,"cache_creation":{"ephemeral_5m_input_tokens":0,"ephemeral_1h_input_tokens":0},"output_tokens":1,"service_tier":"standard"}} }
    
    event: content_block_start
    data: {"type":"content_block_start","index":0,"content_block":{"type":"text","text":""}           }
    
    event: content_block_delta
    data: {"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":"#"}             }
    
    event: content_block_delta
    data: {"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":" Hello"}      }
    
    event: ping
    data: {"type": "ping"}
    
    event: content_block_delta
    data: {"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":"! "}               }
    
    event: content_block_delta
    data: {"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":"ðŸ‘‹\n\nThis"}            }
    
    event: content_block_delta
    data: {"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":" is a test message response"}          }
    
    event: content_block_delta
    data: {"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":". I'm"}      }
    
    event: content_block_delta
    data: {"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":" working"}  }
    
    event: content_block_delta
    data: {"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":" properly"}   }
    
    event: content_block_delta
    data: {"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":" and ready"}            }
    
    event: content_block_delta
    data: {"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":" to help!"}         }
    
    event: content_block_delta
    data: {"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":"\n\nIs"}       }
    
    event: content_block_delta
    data: {"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":" there something"}       }
    
    event: content_block_delta
    data: {"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":" specific you'd like to test"}               }
    
    event: content_block_delta
    data: {"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":" or discuss?"}        }
    
    event: content_block_stop
    data: {"type":"content_block_stop","index":0    }
    
    event: message_delta
    data: {"type":"message_delta","delta":{"stop_reason":"end_turn","stop_sequence":null},"usage":{"input_tokens":9,"cache_creation_input_tokens":0,"cache_read_input_tokens":0,"output_tokens":39}         }
    
    event: message_stop
    data: {"type":"message_stop"      }
    
---
when:
  path: /v1/messages
  method: POST
  json_body_str: >-
    {
      "messages": [
        {
          "role": "user",
          "content": [
            {
              "type": "text",
              "text": "Test message"
            }
          ]
        },
        {
          "role": "assistant",
          "content": [
            {
              "type": "text",
              "text": "# Hello! ðŸ‘‹\n\nThis is a test message response. I'm working properly and ready to help!\n\nIs there something specific you'd like to test or discuss?"
            }
          ]
        },
        {
          "role": "user",
          "content": [
            {
              "type": "text",
              "text": "Repeat my previous message",
              "cache_control": {
                "type": "ephemeral"
              }
            }
          ]
        }
      ],
      "model": "claude-haiku-4-5",
      "max_tokens": 64000,
      "thinking": {
        "type": "enabled",
        "budget_tokens": 12800
      },
      "stream": true
    }
then:
  status: 200
  header:
    - name: content-type
      value: text/event-stream; charset=utf-8
  body: |+
    event: message_start
    data: {"type":"message_start","message":{"model":"claude-haiku-4-5-20251001","id":"msg_013p9zUrqyoRueo9wVT9A5B7","type":"message","role":"assistant","content":[],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":85,"cache_creation_input_tokens":0,"cache_read_input_tokens":0,"cache_creation":{"ephemeral_5m_input_tokens":0,"ephemeral_1h_input_tokens":0},"output_tokens":8,"service_tier":"standard"}}   }
    
    event: content_block_start
    data: {"type":"content_block_start","index":0,"content_block":{"type":"thinking","thinking":"","signature":""}}
    
    event: content_block_delta
    data: {"type":"content_block_delta","index":0,"delta":{"type":"thinking_delta","thinking":"The user is asking me to repeat their"}    }
    
    event: ping
    data: {"type": "ping"}
    
    event: content_block_delta
    data: {"type":"content_block_delta","index":0,"delta":{"type":"thinking_delta","thinking":" previous message. Their"}              }
    
    event: content_block_delta
    data: {"type":"content_block_delta","index":0,"delta":{"type":"thinking_delta","thinking":" previous message was \"Test message\". So"}      }
    
    event: content_block_delta
    data: {"type":"content_block_delta","index":0,"delta":{"type":"thinking_delta","thinking":" I shoul"}              }
    
    event: content_block_delta
    data: {"type":"content_block_delta","index":0,"delta":{"type":"thinking_delta","thinking":"d repeat that back"} }
    
    event: content_block_delta
    data: {"type":"content_block_delta","index":0,"delta":{"type":"thinking_delta","thinking":" to them."}      }
    
    event: content_block_delta
    data: {"type":"content_block_delta","index":0,"delta":{"type":"thinking_delta","thinking":""} }
    
    event: content_block_delta
    data: {"type":"content_block_delta","index":0,"delta":{"type":"signature_delta","signature":"ErECCkYIChgCKkA1/edkfP0kfLQZuvfs2pFS0oN0V5GnYDlMKfgU1ttt89w1wNtVsJhlyTikvZ/wodikEqnzlF/0mCW618v9bL5rEgwha6HsLkFsfwo7Zg8aDL2UjGYDnHjm330luyIw80D4sj/7LJ58C7e7s9tmKL87tJmn68gEpb9MTpP3k0M/uNcGpRHMMcAoZugbbr/UKpgB+cUbegWsD8Zz9H1thGA2BqcxijsKriRiOKync+x1b1sedRtO77PTeL2EakwEslYlLz1iloODS7epuGEzu6br418aWTkED9707sMyh6DgwkDV4r3QdUrxkuYx8vPrqPusGCqHhuRdLB06g0ppeDmxt4oY3Oc09aXH6qtliFZq7WZq2I+y6yhRpH4l4dPnzASUKMlykNgS9D0YAQ=="}   }
    
    event: content_block_stop
    data: {"type":"content_block_stop","index":0              }
    
    event: content_block_start
    data: {"type":"content_block_start","index":1,"content_block":{"type":"text","text":""}           }
    
    event: content_block_delta
    data: {"type":"content_block_delta","index":1,"delta":{"type":"text_delta","text":"Test"}      }
    
    event: content_block_delta
    data: {"type":"content_block_delta","index":1,"delta":{"type":"text_delta","text":" message"}          }
    
    event: content_block_stop
    data: {"type":"content_block_stop","index":1             }
    
    event: message_delta
    data: {"type":"message_delta","delta":{"stop_reason":"end_turn","stop_sequence":null},"usage":{"input_tokens":85,"cache_creation_input_tokens":0,"cache_read_input_tokens":0,"output_tokens":41}      }
    
    event: message_stop
    data: {"type":"message_stop"               }
    
---
when:
  path: /v1/messages
  method: POST
  json_body_str: >-
    {
      "messages": [
        {
          "role": "user",
          "content": [
            {
              "type": "text",
              "text": "Test message"
            }
          ]
        },
        {
          "role": "assistant",
          "content": [
            {
              "type": "text",
              "text": "# Hello! ðŸ‘‹\n\nThis is a test message response. I'm working properly and ready to help!\n\nIs there something specific you'd like to test or discuss?"
            }
          ]
        },
        {
          "role": "user",
          "content": [
            {
              "type": "text",
              "text": "Repeat my previous message"
            }
          ]
        },
        {
          "role": "assistant",
          "content": [
            {
              "type": "thinking",
              "thinking": "The user is asking me to repeat their previous message. Their previous message was \"Test message\". So I should repeat that back to them.",
              "signature": "ErECCkYIChgCKkA1/edkfP0kfLQZuvfs2pFS0oN0V5GnYDlMKfgU1ttt89w1wNtVsJhlyTikvZ/wodikEqnzlF/0mCW618v9bL5rEgwha6HsLkFsfwo7Zg8aDL2UjGYDnHjm330luyIw80D4sj/7LJ58C7e7s9tmKL87tJmn68gEpb9MTpP3k0M/uNcGpRHMMcAoZugbbr/UKpgB+cUbegWsD8Zz9H1thGA2BqcxijsKriRiOKync+x1b1sedRtO77PTeL2EakwEslYlLz1iloODS7epuGEzu6br418aWTkED9707sMyh6DgwkDV4r3QdUrxkuYx8vPrqPusGCqHhuRdLB06g0ppeDmxt4oY3Oc09aXH6qtliFZq7WZq2I+y6yhRpH4l4dPnzASUKMlykNgS9D0YAQ=="
            },
            {
              "type": "text",
              "text": "Test message"
            }
          ]
        },
        {
          "role": "user",
          "content": [
            {
              "type": "text",
              "text": "Please run the tool, providing whatever arguments you want.",
              "cache_control": {
                "type": "ephemeral"
              }
            }
          ]
        }
      ],
      "model": "claude-haiku-4-5",
      "max_tokens": 64000,
      "stream": true,
      "tool_choice": {
        "type": "any",
        "disable_parallel_tool_use": false
      },
      "tools": [
        {
          "type": "custom",
          "name": "run_me",
          "input_schema": {
            "type": "object",
            "properties": {
              "foo": {
                "type": "string",
                "default": "foo"
              },
              "bar": {
                "type": [
                  "string",
                  "array"
                ],
                "enum": [
                  "foo",
                  [
                    "foo",
                    "bar"
                  ]
                ],
                "items": {
                  "type": "string"
                }
              }
            },
            "required": [
              "bar"
            ]
          },
          "cache_control": {
            "type": "ephemeral"
          }
        }
      ]
    }
then:
  status: 200
  header:
    - name: content-type
      value: text/event-stream; charset=utf-8
  body: |+
    event: message_start
    data: {"type":"message_start","message":{"model":"claude-haiku-4-5-20251001","id":"msg_01D9GwHqXU86DdyzaTRmFJpE","type":"message","role":"assistant","content":[],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":748,"cache_creation_input_tokens":0,"cache_read_input_tokens":0,"cache_creation":{"ephemeral_5m_input_tokens":0,"ephemeral_1h_input_tokens":0},"output_tokens":8,"service_tier":"standard"}} }
    
    event: content_block_start
    data: {"type":"content_block_start","index":0,"content_block":{"type":"tool_use","id":"toolu_01F3qxRanMBBxb4CDausBx8L","name":"run_me","input":{}}       }
    
    event: content_block_delta
    data: {"type":"content_block_delta","index":0,"delta":{"type":"input_json_delta","partial_json":""} }
    
    event: content_block_delta
    data: {"type":"content_block_delta","index":0,"delta":{"type":"input_json_delta","partial_json":"{\"bar\":"}               }
    
    event: content_block_delta
    data: {"type":"content_block_delta","index":0,"delta":{"type":"input_json_delta","partial_json":" \""}}
    
    event: content_block_delta
    data: {"type":"content_block_delta","index":0,"delta":{"type":"input_json_delta","partial_json":"foo\"}"}            }
    
    event: content_block_stop
    data: {"type":"content_block_stop","index":0        }
    
    event: message_delta
    data: {"type":"message_delta","delta":{"stop_reason":"tool_use","stop_sequence":null},"usage":{"input_tokens":748,"cache_creation_input_tokens":0,"cache_read_input_tokens":0,"output_tokens":38}    }
    
    event: message_stop
    data: {"type":"message_stop"         }
    
---
when:
  path: /v1/messages
  method: POST
  json_body_str: >-
    {
      "messages": [
        {
          "role": "user",
          "content": [
            {
              "type": "text",
              "text": "Test message"
            }
          ]
        },
        {
          "role": "assistant",
          "content": [
            {
              "type": "text",
              "text": "# Hello! ðŸ‘‹\n\nThis is a test message response. I'm working properly and ready to help!\n\nIs there something specific you'd like to test or discuss?"
            }
          ]
        },
        {
          "role": "user",
          "content": [
            {
              "type": "text",
              "text": "Repeat my previous message"
            }
          ]
        },
        {
          "role": "assistant",
          "content": [
            {
              "type": "thinking",
              "thinking": "The user is asking me to repeat their previous message. Their previous message was \"Test message\". So I should repeat that back to them.",
              "signature": "ErECCkYIChgCKkA1/edkfP0kfLQZuvfs2pFS0oN0V5GnYDlMKfgU1ttt89w1wNtVsJhlyTikvZ/wodikEqnzlF/0mCW618v9bL5rEgwha6HsLkFsfwo7Zg8aDL2UjGYDnHjm330luyIw80D4sj/7LJ58C7e7s9tmKL87tJmn68gEpb9MTpP3k0M/uNcGpRHMMcAoZugbbr/UKpgB+cUbegWsD8Zz9H1thGA2BqcxijsKriRiOKync+x1b1sedRtO77PTeL2EakwEslYlLz1iloODS7epuGEzu6br418aWTkED9707sMyh6DgwkDV4r3QdUrxkuYx8vPrqPusGCqHhuRdLB06g0ppeDmxt4oY3Oc09aXH6qtliFZq7WZq2I+y6yhRpH4l4dPnzASUKMlykNgS9D0YAQ=="
            },
            {
              "type": "text",
              "text": "Test message"
            }
          ]
        },
        {
          "role": "user",
          "content": [
            {
              "type": "text",
              "text": "Please run the tool, providing whatever arguments you want."
            }
          ]
        },
        {
          "role": "assistant",
          "content": [
            {
              "type": "tool_use",
              "id": "toolu_01F3qxRanMBBxb4CDausBx8L",
              "input": {
                "bar": "foo"
              },
              "name": "run_me"
            }
          ]
        },
        {
          "role": "user",
          "content": [
            {
              "type": "tool_result",
              "tool_use_id": "toolu_01F3qxRanMBBxb4CDausBx8L",
              "content": "The secret code is: 42",
              "is_error": false,
              "cache_control": {
                "type": "ephemeral"
              }
            }
          ]
        }
      ],
      "model": "claude-haiku-4-5",
      "max_tokens": 64000,
      "stream": true
    }
then:
  status: 200
  header:
    - name: content-type
      value: text/event-stream; charset=utf-8
  body: |+
    event: message_start
    data: {"type":"message_start","message":{"model":"claude-haiku-4-5-20251001","id":"msg_0142icvQtrte2cuAZ7BqwnPw","type":"message","role":"assistant","content":[],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":148,"cache_creation_input_tokens":0,"cache_read_input_tokens":0,"cache_creation":{"ephemeral_5m_input_tokens":0,"ephemeral_1h_input_tokens":0},"output_tokens":1,"service_tier":"standard"}}     }
    
    event: content_block_start
    data: {"type":"content_block_start","index":0,"content_block":{"type":"text","text":""} }
    
    event: content_block_delta
    data: {"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":"Great"}            }
    
    event: content_block_delta
    data: {"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":"! I"}            }
    
    event: ping
    data: {"type": "ping"}
    
    event: content_block_delta
    data: {"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":" ran"}   }
    
    event: content_block_delta
    data: {"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":" the tool with"}          }
    
    event: content_block_delta
    data: {"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":" the argument `"}         }
    
    event: content_block_delta
    data: {"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":"bar"} }
    
    event: content_block_delta
    data: {"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":":"}}
    
    event: content_block_delta
    data: {"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":" \""}     }
    
    event: content_block_delta
    data: {"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":"foo\"` and it returned:"}               }
    
    event: content_block_delta
    data: {"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":"\n\n**"}            }
    
    event: content_block_delta
    data: {"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":"The secret code is: 42**"}      }
    
    event: content_block_delta
    data: {"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":"\n\nInter"}         }
    
    event: content_block_delta
    data: {"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":"estingly, this"}      }
    
    event: content_block_delta
    data: {"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":" is a reference"}              }
    
    event: content_block_delta
    data: {"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":" to *"}               }
    
    event: content_block_delta
    data: {"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":"The Hitchhiker's Guide to"}     }
    
    event: content_block_delta
    data: {"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":" the Galaxy*,"}        }
    
    event: content_block_delta
    data: {"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":" where"}             }
    
    event: content_block_delta
    data: {"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":" "}              }
    
    event: content_block_delta
    data: {"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":"42 is fam"}              }
    
    event: content_block_delta
    data: {"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":"ously \""} }
    
    event: content_block_delta
    data: {"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":"the Answer"}    }
    
    event: content_block_delta
    data: {"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":" to the Ultimate Question of Life, the"}          }
    
    event: content_block_delta
    data: {"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":" Universe, and Everything!\""}   }
    
    event: content_block_stop
    data: {"type":"content_block_stop","index":0               }
    
    event: message_delta
    data: {"type":"message_delta","delta":{"stop_reason":"end_turn","stop_sequence":null},"usage":{"input_tokens":148,"cache_creation_input_tokens":0,"cache_read_input_tokens":0,"output_tokens":79}               }
    
    event: message_stop
    data: {"type":"message_stop"      }
    
---
when:
  path: /v1/messages
  method: POST
  json_body_str: >-
    {
      "messages": [
        {
          "role": "user",
          "content": [
            {
              "type": "text",
              "text": "Test message"
            }
          ]
        },
        {
          "role": "assistant",
          "content": [
            {
              "type": "text",
              "text": "# Hello! ðŸ‘‹\n\nThis is a test message response. I'm working properly and ready to help!\n\nIs there something specific you'd like to test or discuss?"
            }
          ]
        },
        {
          "role": "user",
          "content": [
            {
              "type": "text",
              "text": "Repeat my previous message"
            }
          ]
        },
        {
          "role": "assistant",
          "content": [
            {
              "type": "thinking",
              "thinking": "The user is asking me to repeat their previous message. Their previous message was \"Test message\". So I should repeat that back to them.",
              "signature": "ErECCkYIChgCKkA1/edkfP0kfLQZuvfs2pFS0oN0V5GnYDlMKfgU1ttt89w1wNtVsJhlyTikvZ/wodikEqnzlF/0mCW618v9bL5rEgwha6HsLkFsfwo7Zg8aDL2UjGYDnHjm330luyIw80D4sj/7LJ58C7e7s9tmKL87tJmn68gEpb9MTpP3k0M/uNcGpRHMMcAoZugbbr/UKpgB+cUbegWsD8Zz9H1thGA2BqcxijsKriRiOKync+x1b1sedRtO77PTeL2EakwEslYlLz1iloODS7epuGEzu6br418aWTkED9707sMyh6DgwkDV4r3QdUrxkuYx8vPrqPusGCqHhuRdLB06g0ppeDmxt4oY3Oc09aXH6qtliFZq7WZq2I+y6yhRpH4l4dPnzASUKMlykNgS9D0YAQ=="
            },
            {
              "type": "text",
              "text": "Test message"
            }
          ]
        },
        {
          "role": "user",
          "content": [
            {
              "type": "text",
              "text": "Please run the tool, providing whatever arguments you want."
            }
          ]
        },
        {
          "role": "assistant",
          "content": [
            {
              "type": "tool_use",
              "id": "toolu_01F3qxRanMBBxb4CDausBx8L",
              "input": {
                "bar": "foo"
              },
              "name": "run_me"
            }
          ]
        },
        {
          "role": "user",
          "content": [
            {
              "type": "tool_result",
              "tool_use_id": "toolu_01F3qxRanMBBxb4CDausBx8L",
              "content": "The secret code is: 42",
              "is_error": false
            }
          ]
        },
        {
          "role": "assistant",
          "content": [
            {
              "type": "text",
              "text": "Great! I ran the tool with the argument `bar: \"foo\"` and it returned:\n\n**The secret code is: 42**\n\nInterestingly, this is a reference to *The Hitchhiker's Guide to the Galaxy*, where 42 is famously \"the Answer to the Ultimate Question of Life, the Universe, and Everything!\""
            }
          ]
        },
        {
          "role": "user",
          "content": [
            {
              "type": "text",
              "text": "What was the result of the previous tool call?",
              "cache_control": {
                "type": "ephemeral"
              }
            }
          ]
        }
      ],
      "model": "claude-haiku-4-5",
      "max_tokens": 64000,
      "thinking": {
        "type": "enabled",
        "budget_tokens": 12800
      },
      "stream": true
    }
then:
  status: 200
  header:
    - name: content-type
      value: text/event-stream; charset=utf-8
  body: |+
    event: message_start
    data: {"type":"message_start","message":{"model":"claude-haiku-4-5-20251001","id":"msg_011EEb4kwtbmNQepRNddUPWA","type":"message","role":"assistant","content":[],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":269,"cache_creation_input_tokens":0,"cache_read_input_tokens":0,"cache_creation":{"ephemeral_5m_input_tokens":0,"ephemeral_1h_input_tokens":0},"output_tokens":5,"service_tier":"standard"}}  }
    
    event: content_block_start
    data: {"type":"content_block_start","index":0,"content_block":{"type":"thinking","thinking":"","signature":""}  }
    
    event: content_block_delta
    data: {"type":"content_block_delta","index":0,"delta":{"type":"thinking_delta","thinking":"The user is asking me"}        }
    
    event: ping
    data: {"type": "ping"}
    
    event: content_block_delta
    data: {"type":"content_block_delta","index":0,"delta":{"type":"thinking_delta","thinking":" to recall"}    }
    
    event: content_block_delta
    data: {"type":"content_block_delta","index":0,"delta":{"type":"thinking_delta","thinking":" the result of the previous tool call."}   }
    
    event: content_block_delta
    data: {"type":"content_block_delta","index":0,"delta":{"type":"thinking_delta","thinking":" Looking at my previous response, I calle"}             }
    
    event: content_block_delta
    data: {"type":"content_block_delta","index":0,"delta":{"type":"thinking_delta","thinking":"d the `run_me` tool"}            }
    
    event: content_block_delta
    data: {"type":"content_block_delta","index":0,"delta":{"type":"thinking_delta","thinking":" with the"}   }
    
    event: content_block_delta
    data: {"type":"content_block_delta","index":0,"delta":{"type":"thinking_delta","thinking":" argument `bar: \"foo\"`,"}   }
    
    event: content_block_delta
    data: {"type":"content_block_delta","index":0,"delta":{"type":"thinking_delta","thinking":" and the"}              }
    
    event: content_block_delta
    data: {"type":"content_block_delta","index":0,"delta":{"type":"thinking_delta","thinking":" function"}        }
    
    event: content_block_delta
    data: {"type":"content_block_delta","index":0,"delta":{"type":"thinking_delta","thinking":" result"}        }
    
    event: content_block_delta
    data: {"type":"content_block_delta","index":0,"delta":{"type":"thinking_delta","thinking":" was:\n\n\""}             }
    
    event: content_block_delta
    data: {"type":"content_block_delta","index":0,"delta":{"type":"thinking_delta","thinking":"The secret code is: 42\""}       }
    
    event: content_block_delta
    data: {"type":"content_block_delta","index":0,"delta":{"type":"thinking_delta","thinking":"\n\nSo"}}
    
    event: content_block_delta
    data: {"type":"content_block_delta","index":0,"delta":{"type":"thinking_delta","thinking":" I"}         }
    
    event: content_block_delta
    data: {"type":"content_block_delta","index":0,"delta":{"type":"thinking_delta","thinking":" should simply"}     }
    
    event: content_block_delta
    data: {"type":"content_block_delta","index":0,"delta":{"type":"thinking_delta","thinking":" state that"}            }
    
    event: content_block_delta
    data: {"type":"content_block_delta","index":0,"delta":{"type":"thinking_delta","thinking":" the result was \"The secret code is"}   }
    
    event: content_block_delta
    data: {"type":"content_block_delta","index":0,"delta":{"type":"thinking_delta","thinking":": 42\""}       }
    
    event: content_block_delta
    data: {"type":"content_block_delta","index":0,"delta":{"type":"thinking_delta","thinking":""}}
    
    event: content_block_delta
    data: {"type":"content_block_delta","index":0,"delta":{"type":"signature_delta","signature":"EsYDCkYIChgCKkA2NkmREHX2b1x3M3oTMdgclq1scKqiytPuRU3FUt/rp20y5frCgDdkoREKf3/VfRFQKJW6j1gwy7YC10wf08n4Egw2ZQebjTbdKU2wB0waDMv1uL1tEmPcSQFQjCIwfSSv7zpTgxBpndT3m5CC6eHo/4nTPYXnZ8+AmBW3CrOOpVKqMiAS/+hKVFla8FEMKq0Cys41oYiZTnBTGvckqeOIj2eMR2rG59f1DrSR14kVN8eldeMvRp/FTNjnWy9ww5DhH+MdbaPJszNfaEM8QtaRFjMg6Z86gmI1cMeoZDe1E/LYQx0aXh7Je0U4CDrYQ65WZJo7VD/UrCdm6q/M52xd2mF9VxH2Lta+74Q8NeQbHBjJwx0BharwBl7MejXc4edQU0Yx1fRUQBAqKTAQLPIrVGvvBPaFQmAp+Bm5KjYIGgcHm8il6SxWW0rgWc7U3OZE/XF4+K84+GIH3kpRtw4BIjO4Ot6Da5gnr0gwt7jmTp3/CwSMavVmsor3mYWurWDWSritk7ksLzAdhD2MnCequLOtwRPzyqUz/jPf00Niyb46Xw519QTplRMidIa5+muNX6HqFbAeMAyrHfNwMRgB"}          }
    
    event: content_block_stop
    data: {"type":"content_block_stop","index":0}
    
    event: content_block_start
    data: {"type":"content_block_start","index":1,"content_block":{"type":"text","text":""}}
    
    event: content_block_delta
    data: {"type":"content_block_delta","index":1,"delta":{"type":"text_delta","text":"The result of the previous tool call was"}         }
    
    event: content_block_delta
    data: {"type":"content_block_delta","index":1,"delta":{"type":"text_delta","text":":\n\n**The secret code is:"}           }
    
    event: content_block_delta
    data: {"type":"content_block_delta","index":1,"delta":{"type":"text_delta","text":" 42**"}      }
    
    event: content_block_stop
    data: {"type":"content_block_stop","index":1               }
    
    event: message_delta
    data: {"type":"message_delta","delta":{"stop_reason":"end_turn","stop_sequence":null},"usage":{"input_tokens":269,"cache_creation_input_tokens":0,"cache_read_input_tokens":0,"output_tokens":105}             }
    
    event: message_stop
    data: {"type":"message_stop"               }
    
