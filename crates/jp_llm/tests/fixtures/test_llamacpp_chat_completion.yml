when:
  path: /chat/completions
  method: POST
  body: "{\"model\":\"llama3:latest\",\"messages\":[{\"role\":\"user\",\"content\":\"Test message\"}],\"stream\":true,\"tool_choice\":\"auto\"}"
then:
  status: 200
  header:
    - name: content-type
      value: text/event-stream
  body: "data: {\"choices\":[{\"finish_reason\":null,\"index\":0,\"delta\":{\"role\":\"assistant\",\"content\":null}}],\"created\":1763647027,\"id\":\"chatcmpl-ooVF6LvzevVVBhV5LzQOv19mgexKPcYg\",\"model\":\"llama3:latest\",\"system_fingerprint\":\"b5740-fa4a9f2a\",\"object\":\"chat.completion.chunk\"}\n\ndata: {\"choices\":[{\"finish_reason\":null,\"index\":0,\"delta\":{\"content\":\"Hello\"}}],\"created\":1763647027,\"id\":\"chatcmpl-ooVF6LvzevVVBhV5LzQOv19mgexKPcYg\",\"model\":\"llama3:latest\",\"system_fingerprint\":\"b5740-fa4a9f2a\",\"object\":\"chat.completion.chunk\"}\n\ndata: {\"choices\":[{\"finish_reason\":null,\"index\":0,\"delta\":{\"content\":\"!\"}}],\"created\":1763647027,\"id\":\"chatcmpl-ooVF6LvzevVVBhV5LzQOv19mgexKPcYg\",\"model\":\"llama3:latest\",\"system_fingerprint\":\"b5740-fa4a9f2a\",\"object\":\"chat.completion.chunk\"}\n\ndata: {\"choices\":[{\"finish_reason\":null,\"index\":0,\"delta\":{\"content\":\" How\"}}],\"created\":1763647027,\"id\":\"chatcmpl-ooVF6LvzevVVBhV5LzQOv19mgexKPcYg\",\"model\":\"llama3:latest\",\"system_fingerprint\":\"b5740-fa4a9f2a\",\"object\":\"chat.completion.chunk\"}\n\ndata: {\"choices\":[{\"finish_reason\":null,\"index\":0,\"delta\":{\"content\":\" can\"}}],\"created\":1763647027,\"id\":\"chatcmpl-ooVF6LvzevVVBhV5LzQOv19mgexKPcYg\",\"model\":\"llama3:latest\",\"system_fingerprint\":\"b5740-fa4a9f2a\",\"object\":\"chat.completion.chunk\"}\n\ndata: {\"choices\":[{\"finish_reason\":null,\"index\":0,\"delta\":{\"content\":\" I\"}}],\"created\":1763647027,\"id\":\"chatcmpl-ooVF6LvzevVVBhV5LzQOv19mgexKPcYg\",\"model\":\"llama3:latest\",\"system_fingerprint\":\"b5740-fa4a9f2a\",\"object\":\"chat.completion.chunk\"}\n\ndata: {\"choices\":[{\"finish_reason\":null,\"index\":0,\"delta\":{\"content\":\" assist\"}}],\"created\":1763647027,\"id\":\"chatcmpl-ooVF6LvzevVVBhV5LzQOv19mgexKPcYg\",\"model\":\"llama3:latest\",\"system_fingerprint\":\"b5740-fa4a9f2a\",\"object\":\"chat.completion.chunk\"}\n\ndata: {\"choices\":[{\"finish_reason\":null,\"index\":0,\"delta\":{\"content\":\" you\"}}],\"created\":1763647027,\"id\":\"chatcmpl-ooVF6LvzevVVBhV5LzQOv19mgexKPcYg\",\"model\":\"llama3:latest\",\"system_fingerprint\":\"b5740-fa4a9f2a\",\"object\":\"chat.completion.chunk\"}\n\ndata: {\"choices\":[{\"finish_reason\":null,\"index\":0,\"delta\":{\"content\":\" today\"}}],\"created\":1763647027,\"id\":\"chatcmpl-ooVF6LvzevVVBhV5LzQOv19mgexKPcYg\",\"model\":\"llama3:latest\",\"system_fingerprint\":\"b5740-fa4a9f2a\",\"object\":\"chat.completion.chunk\"}\n\ndata: {\"choices\":[{\"finish_reason\":null,\"index\":0,\"delta\":{\"content\":\"?\"}}],\"created\":1763647027,\"id\":\"chatcmpl-ooVF6LvzevVVBhV5LzQOv19mgexKPcYg\",\"model\":\"llama3:latest\",\"system_fingerprint\":\"b5740-fa4a9f2a\",\"object\":\"chat.completion.chunk\"}\n\ndata: {\"choices\":[{\"finish_reason\":\"stop\",\"index\":0,\"delta\":{}}],\"created\":1763647027,\"id\":\"chatcmpl-ooVF6LvzevVVBhV5LzQOv19mgexKPcYg\",\"model\":\"llama3:latest\",\"system_fingerprint\":\"b5740-fa4a9f2a\",\"object\":\"chat.completion.chunk\",\"usage\":{\"completion_tokens\":10,\"prompt_tokens\":31,\"total_tokens\":41},\"timings\":{\"prompt_n\":1,\"prompt_ms\":39.507,\"prompt_per_token_ms\":39.507,\"prompt_per_second\":25.311970030627485,\"predicted_n\":10,\"predicted_ms\":170.098,\"predicted_per_token_ms\":17.009800000000002,\"predicted_per_second\":58.78963891403779}}\n\ndata: [DONE]\n\n"
