when:
  path: "/v1beta/models/gemini-3-pro-preview:streamGenerateContent"
  method: POST
  query_param:
    - name: alt
      value: sse
  json_body_str: >-
    {
      "contents": [
        {
          "parts": [
            {
              "text": "Test message"
            }
          ],
          "role": "user"
        }
      ],
      "toolConfig": {
        "functionCallingConfig": {
          "mode": "NONE",
          "allowedFunctionNames": []
        }
      },
      "generationConfig": {
        "maxOutputTokens": 64000,
        "thinkingConfig": {
          "includeThoughts": true,
          "thinkingBudget": 12800,
          "thinkingLevel": null
        }
      }
    }
then:
  status: 200
  header:
    - name: content-type
      value: text/event-stream
  body: |+
    data: {"candidates": [{"content": {"parts": [{"text": "**Acknowledge the Test**\n\nI've acknowledged the \"Test message\" input. My intent analysis identifies this as a system check to gauge functionality. Currently, I'm determining the most appropriate and concise response to ensure responsiveness.\n\n\n","thought": true}],"role": "model"},"index": 0}],"usageMetadata": {"promptTokenCount": 3,"totalTokenCount": 3,"promptTokensDetails": [{"modality": "TEXT","tokenCount": 3}]},"modelVersion": "gemini-3-pro-preview","responseId": "y7aVac-YHeKO28oPte7eiAU"}
    
    data: {"candidates": [{"content": {"parts": [{"text": "Message received loud and clear! I am functioning correctly."}],"role": "model"},"index": 0}],"usageMetadata": {"promptTokenCount": 3,"candidatesTokenCount": 11,"totalTokenCount": 326,"promptTokensDetails": [{"modality": "TEXT","tokenCount": 3}],"thoughtsTokenCount": 312},"modelVersion": "gemini-3-pro-preview","responseId": "y7aVac-YHeKO28oPte7eiAU"}
    
    data: {"candidates": [{"content": {"parts": [{"text": " How can I help you today?"}],"role": "model"},"index": 0}],"usageMetadata": {"promptTokenCount": 3,"candidatesTokenCount": 18,"totalTokenCount": 333,"promptTokensDetails": [{"modality": "TEXT","tokenCount": 3}],"thoughtsTokenCount": 312},"modelVersion": "gemini-3-pro-preview","responseId": "y7aVac-YHeKO28oPte7eiAU"}
    
    data: {"candidates": [{"content": {"parts": [{"text": "","thoughtSignature": "Eo4LCosLAb4+9vtB0qCAlEMX/ZHjD2hegAVWKRuzl94VTs3rEFA19C8L/NPD4t3EtUHZUTgMvFicB/KccvHLF18fRxRCBU0pP+0NmvWCUbZGW2VZuNJZl86hOd6WPe2PHS1a9veojVn5eKeqhYT7mRWvWe3ksXXJwyksntzs+t8lnkL/0GVHkfPManx+29bdAuvfmlGJCGXfUP0kmSVvpy9ro1J/axjQ30bXT8kBB7LCcHsq2jgZsWsKym4HwlpCkIYXkGI9kOe9b0WkDm3uxSd+e5fyMgmmQsc0FrwrdLz1Vw25ReoNquZDIAE0Xy4lKfkPwB0xiwT6O0iORDDave6tJCrAkDDxwRjJn/YR56F57JxkfSP0vaYCxJb6xIrMJyKPNmBDoHQwXzuVbAUuQIczDo/Vf03zNvb5G7JPLIi4F1mLDmDeurpimZkdBBjUeCawSc/zDyuO5oTQFuss/9vtb6gU4piFP2dujv2ogTLWU9TUMe5bO2bOwiPd1VbaTgKzbOg2SjrT7WtJygh4MxmQJfyZRpxJeUl7tEdF1tV+YNIGt9rWR7ZavligopGFeJfuHlpDvfinRYyjWiP0VBrMN7d7nQJDsMw5tt0XUJ+TLtnJyFhAg7B7NgL3emz+YvD4m1nHBsj1fwHpc4jec/uy3TDeGZNDXJBTFWv76XFOnCnmPSDNxZ0i+qfHyJ7EQOlbSIiVDEacCJSO+cZcLELNfKGy1IvDVkJNrJzTrS4MgDxYMt/xzAg3eSadOeQsxsBrRmt7NyI3Lp64+EOoIz/+RiafvUjirVVK83YeMBrZPo1ixBS02PdNsRMdlZuUKiB/pxSAgdLbcaS9RYo9dSKU8SS+onfmzv/mnvSjCfgIbUKWrlZ/5OPf6rQgwGPiIyNi5yDe3l0LIOZIUy1WDfZvHEU8CTi2R7p7n/KxmM+3hNdocZnoMepXCE+r7TMuRVfF8GXlB2jpizX2jXm+BP+36/bqpwfHUgmJpvB3bDyGkyV3d+nYO5CuVBJs5gdy4v3HnmvyJa3kjnvoCSTiLB9MPR9h6Vd92b+6KL2hqKzIAPD70DhIJ4k2fBybD8hdWUf+IAoYTsUhQR4Kxgu6RYK+xSPRppbeDU8SlIF5TCb4XHBx4PiQagsi6Og+UQNp9Ea0PoNsUkyyX+95x2j1+c6E2wk7W9WV1xxl9pah40y5Z1pDmHKzNfJw58QFEMSX4fn0OzxxZz+UP+LUQRgf1SvHw+wPAHAVMp4WhDDoHVxls5bXoFwux8o9R8iovGc3tzvJPmNv5f3+pZ+O2aQOZWK7Rn4OPEDalN4MkerTDBLr8WyINudcWfHF+mQ0H3wjGhj00TLAkarGz9Puhh5EsLbawKfN6pDqDk78wQ7qjOyhUOx5Plq6y3/5izaz6F5Zt8KF0efshmDkgK++6tAzzydgHhkADFT42CBdeVgLZMitVSz3H0pltewoHI/2nvBmJBCMdzPfOtOMN7ffh6OVoeDNUJqAzCdPzKD4cMFVAsC7JP/T5DuPuRU0skxgVjFd/+OJtTWSqrQ715gdLT93+W8I79kOTjjnLaj88W/MMFGT+HVm5H/CI9weZzFzYh1EFI0Egxr+7ocDUjFMZ4XHCxgw2vakvH0bFxEZjw6S91SJ8GpmSgAt6PhE1ebYcGqmdKO5EJrtlRc++SG02cO/f9JtWLusXNatcuVVmF7/eWslDzefQpvy/KasFrib24C3p5K9kEsJan4Yoc20WpR18Atx0F+twpFzuufuLMZQ99QnZttGXQwUEqwWuO4iHu7kUnHoRKNjYuzoaWb8ECA8gzXU+/RtOlSx7hGJfvPwHs6x4RelHp8dH0dntmEHB9hshV9I3ZrGXJbDtMZKciWXHRVmqaVgExpkZm/Gw1KZs7lY"}],"role": "model"},"finishReason": "STOP","index": 0}],"usageMetadata": {"promptTokenCount": 3,"candidatesTokenCount": 18,"totalTokenCount": 333,"promptTokensDetails": [{"modality": "TEXT","tokenCount": 3}],"thoughtsTokenCount": 312},"modelVersion": "gemini-3-pro-preview","responseId": "y7aVac-YHeKO28oPte7eiAU"}
    
