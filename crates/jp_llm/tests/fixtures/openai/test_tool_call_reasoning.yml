when:
  path: /v1/responses
  method: POST
  json_body_str: >-
    {
      "model": "gpt-5-mini",
      "input": [
        {
          "type": "message",
          "role": "system",
          "content": []
        },
        {
          "type": "message",
          "role": "user",
          "content": "Testing tool call"
        }
      ],
      "include": [
        "reasoning.encrypted_content"
      ],
      "instructions": null,
      "max_output_tokens": null,
      "metadata": null,
      "parallel_tool_calls": null,
      "previous_response_id": null,
      "reasoning": null,
      "service_tier": null,
      "store": false,
      "stream": true,
      "temperature": null,
      "text": null,
      "tool_choice": "auto",
      "tools": [
        {
          "type": "function",
          "name": "run_me",
          "parameters": {
            "type": "object",
            "properties": {
              "foo": {
                "default": "foo",
                "type": "string"
              },
              "bar": {
                "anyOf": [
                  {
                    "type": "string",
                    "enum": [
                      "foo"
                    ]
                  },
                  {
                    "type": "array",
                    "items": {
                      "type": "string",
                      "enum": [
                        "foo",
                        "bar"
                      ]
                    }
                  }
                ]
              }
            },
            "additionalProperties": true,
            "required": [
              "bar"
            ]
          },
          "strict": false,
          "description": null
        }
      ],
      "top_p": null,
      "truncation": "auto",
      "user": null
    }
then:
  status: 200
  header:
    - name: content-type
      value: text/event-stream; charset=utf-8
  body: |-
    event: response.created
    data: {"type":"response.created","sequence_number":0,"response":{"id":"resp_0573bac7590c482b0169381b48187881a18ac6ee3e6c78a4ce","object":"response","created_at":1765284680,"status":"in_progress","background":false,"error":null,"incomplete_details":null,"instructions":null,"max_output_tokens":null,"max_tool_calls":null,"model":"gpt-5-mini-2025-08-07","output":[],"parallel_tool_calls":true,"previous_response_id":null,"prompt_cache_key":null,"prompt_cache_retention":null,"reasoning":{"effort":"medium","summary":null},"safety_identifier":null,"service_tier":"auto","store":false,"temperature":1.0,"text":{"format":{"type":"text"},"verbosity":"medium"},"tool_choice":"auto","tools":[{"type":"function","description":null,"name":"run_me","parameters":{"type":"object","properties":{"foo":{"default":"foo","type":"string"},"bar":{"anyOf":[{"type":"string","enum":["foo"]},{"type":"array","items":{"type":"string","enum":["foo","bar"]}}]}},"additionalProperties":true,"required":["bar"]},"strict":false}],"top_logprobs":0,"top_p":1.0,"truncation":"auto","usage":null,"user":null,"metadata":{}}}

    event: response.in_progress
    data: {"type":"response.in_progress","sequence_number":1,"response":{"id":"resp_0573bac7590c482b0169381b48187881a18ac6ee3e6c78a4ce","object":"response","created_at":1765284680,"status":"in_progress","background":false,"error":null,"incomplete_details":null,"instructions":null,"max_output_tokens":null,"max_tool_calls":null,"model":"gpt-5-mini-2025-08-07","output":[],"parallel_tool_calls":true,"previous_response_id":null,"prompt_cache_key":null,"prompt_cache_retention":null,"reasoning":{"effort":"medium","summary":null},"safety_identifier":null,"service_tier":"auto","store":false,"temperature":1.0,"text":{"format":{"type":"text"},"verbosity":"medium"},"tool_choice":"auto","tools":[{"type":"function","description":null,"name":"run_me","parameters":{"type":"object","properties":{"foo":{"default":"foo","type":"string"},"bar":{"anyOf":[{"type":"string","enum":["foo"]},{"type":"array","items":{"type":"string","enum":["foo","bar"]}}]}},"additionalProperties":true,"required":["bar"]},"strict":false}],"top_logprobs":0,"top_p":1.0,"truncation":"auto","usage":null,"user":null,"metadata":{}}}

    event: response.output_item.added
    data: {"type":"response.output_item.added","sequence_number":2,"output_index":0,"item":{"id":"rs_0573bac7590c482b0169381b48675481a197ade5439b99de7c","type":"reasoning","encrypted_content":"gAAAAABpOBtIL6QH6eEAMqvn5uC6Vhdp_jFUenES34bhtLBO4IFpeGPfZFiyFhMVXvkNs6qFaXAfuEtaFginwLqhQtm7nrbccGniHguvi38Gno5AOVrlLY09pJLTpXx6rGI2B2GkJOlmL1vK6Uvz729MESQs2G3kXj6a5-et-9Q24lAyFZe59_mvgPknSYH4piWSDQtLYrz2qS4z8jMgVAmUPbn11dwka0n-V_moBdVKm_PPnVdIEtdHnn169QOoIxqJfxKWgMfj83hlp1qSJYIvaKv800_sWB-3evi85b9UXTvOvR-R4MUodEsWqY8FD7VIJtvCpfvctz5kNWwhDSwGjnRR24DvofeqX6faEHjkthmQ42Bhd4kGtow-cMF72xNXhwl9t4ScN7K7S3yInnQWqmtKLnteP4edHXKYeU6Y7rhhbIHdMrgSftC0oQhyPSjR0X3F-BqVqukpuwCzqE2DYtAutoq2r_-qf-sr2w7i2dDR1xass0clUUS3zT4ZvjR1wq78hK_p81lYNHAPDaKCHYUUkGIcOdPox7HY1daAxNdmBLsDSTCDuJdsMZcn2MY9in6EmwmgUfHQdc-jBfn67wWAzqfwJGrDgu6PfxpiHHAel4BMQKgTFH-Niya4Jt7Ip14Wd_jWRsjiSwZK4GDe2DzENh0v_B0pQQlKd07ofeXXldylM2Dmj4Qf0TgH7a03e6id4tRjOLsyNTZzDh2Y09TM-6hqRV0eYP_qOgV27dLBgdzk05ejZGtHUfbV9kdbAzyPthVGe4fXHh1fsuEab4-0nliDDFD897H8h80_lnS0_-_yBpABj3KS1resCSAYBZh5NnqN1fhQQuEUHNmkdGV-VFOKRQ==","summary":[]}}

    event: response.output_item.done
    data: {"type":"response.output_item.done","sequence_number":3,"output_index":0,"item":{"id":"rs_0573bac7590c482b0169381b48675481a197ade5439b99de7c","type":"reasoning","encrypted_content":"gAAAAABpOBtKEXtRhd9rPGJRQKstAKsMt_FuB4R3pmqRcsmanw7b6t0H3ctUagv-9vWKqPfQPzRbSmNofc1IGxe58bVAH2Zz6ktHsvuF0MbQVu7_Vf0qzLjedlVPcnK8Kjl94IBcAXapFOy0QNTxw_0YZLpaFLSMjDJxgqdCvIfBV92StDIYVaiat938sJcrZ2HFtb-JDSD2AaWMRxe-vGPkn6YqwUOn9HMZUYi-RyxMdJ-ZB4ye8FaUEpS1OeECchgWtRmGTvtxhIbY2pyBWyQk1yAazUCN-6SAD58xHFa4QxTKbgFHR3nYoS48hIJyehjUp6Fir42y3Xw6CfkvY2pEgdoxCiPX8hL_zssPOECCbYUVlnFTwGXbOsqgMqE6fFQgpKIiJyg7LV56cyfDrFK9Oo5FpmTX-ySosKgSBeRzSRvP4n-QR4Z5Tj-tTNvTI2Jh5K5w5umkzMpxUpSj55rjjXKK8XPF4X2KFnx7nIhI4lckTTADFWEkGEQwGa-9RcOx1jleEMwhCAq_ngZpmJp1nNtR_xOtHwUfZyeoFEnhc7-0DUc8bbwDQN23l6OTA16sNgfyeTW1QjB7kd1CuQxerw6CUTiJymcHH6xp-7KkBt3VHVEMwqw5j4dzp363M7zN43cVR4xBU03nEO811rU-CpYlPrO-GCpj4rVf6I1uwCfEqT6ZpCuVUXKDLpdmp919PRt2Uq_5NOmU47IrA-ATAQsJQ7oG9tHLMaCrhWfy7ULY1p9Xs8fjmCVtJONOZjdbiuOTm_bE6pEc24CjDNHRJQQPmeKFY1oit8i1IrP9obD3D6bbaQnQ9OpcMwPowF45uesGwBtr0xli1Gr8xGBSU04r3n179Ur475h55mJhm_F4x3v98shuAUYLriRKyIyR3I3RcsjNRk1_clpSsMTDwKYHiTYFdoRY6MA72y0VGpobYqRbRvQoyoGWB8DoFZRLn1UWcl8gOWcKqU_qLY8N6hSnI__jfrxwyIN3mhzaeH2nspuMsyvG_4yAkLeZs1CvQlvoSfwUlm3WQgRU2SofQp3y531DAzaqyfSbZdyqMlGmXFgogfPEt1dHKriNjUnw5K-K_Q83wPyeDGFCH97TgQY9y_gW_Uo2T95nYz3GVPcNBXcwZcw4DpiDawznAzTV1IG1HAEdb8IR0JUzsT63D7dxNq7jVu26NVmu_ZzdC9vaUcmE7cg8_k6-_3pW6xok63iAtQdgly7MdjRtbrNggziDP-q_6s1mytPZ3PmrUa0HpqwvF7bE7LxBFlGYcDtHm71pKHgghgfPg67wgSp16a_NEriTykm-Tj2AIXf5e-tpDLJbf6EGz1u4OzgdF8ncVp4RVXL4Lm3dUgWMXVGkMTtZ-q01j-6zaB0ZYhm76MSITKoOxXdNaPWuXodoAoC4i5jbZ23cNaJOJFamPIlif7ET7UZGhynHoW45-JdHBg3xW_n4boaCGmgSvY-3_6GBZ_hn2lXsoQCMJeWRkl2hkyVLHRx-OAoVaU5-IYaZszIDkLWZ-ZQHcJbxoZQUjck61PVSamst9OlIg35GApHEUYDaXHQI3-7cKQEy6e5CpniGjUcSlOAnqxdVm9Gt_WyLhbRn_2G9b5sFsJBGmnJQhcB5s2dKI1gZY_EWtk3WjVFUgoMLSRCqstLB3MT3B6oMjT97cK96NmthtDJ-L6IvzU_zmdt3yTWoTMnwyR7lX_kIWPoh3ZsmP51acnSwbuWg4jO772WxKtd4nXqbIyAnc3_EUBruvySLDUgHvOjlU2IsVWJHcLqmvfGf6aj7plJ56unEHECvYGesgFlHeJp_uqJILqA2BTsUJ-NhtwnItCeC4vfHLb-ZLFxShbQjJpF5dP6o2ZQbGVUNqEZyh5hbIdfnkc5qgLPXyXNWnF3WOLXLLxPFXFeeoYtubJGIk36YvPmnnXGSSAs46w2tO0NjZr41gj0cqA==","summary":[]}}

    event: response.output_item.added
    data: {"type":"response.output_item.added","sequence_number":4,"output_index":1,"item":{"id":"fc_0573bac7590c482b0169381b4acfa481a1936e19c6d6e23b81","type":"function_call","status":"in_progress","arguments":"","call_id":"call_mmaOnMJ3M2jgvCy4t9pOW1Jj","name":"run_me"}}

    event: response.function_call_arguments.delta
    data: {"type":"response.function_call_arguments.delta","sequence_number":5,"item_id":"fc_0573bac7590c482b0169381b4acfa481a1936e19c6d6e23b81","output_index":1,"delta":"{\"","obfuscation":"P7RYlyvdrwbL8E"}

    event: response.function_call_arguments.delta
    data: {"type":"response.function_call_arguments.delta","sequence_number":6,"item_id":"fc_0573bac7590c482b0169381b4acfa481a1936e19c6d6e23b81","output_index":1,"delta":"foo","obfuscation":"PitwUqlc2lIZW"}

    event: response.function_call_arguments.delta
    data: {"type":"response.function_call_arguments.delta","sequence_number":7,"item_id":"fc_0573bac7590c482b0169381b4acfa481a1936e19c6d6e23b81","output_index":1,"delta":"\":\"","obfuscation":"Hsy2wWqfWCIdi"}

    event: response.function_call_arguments.delta
    data: {"type":"response.function_call_arguments.delta","sequence_number":8,"item_id":"fc_0573bac7590c482b0169381b4acfa481a1936e19c6d6e23b81","output_index":1,"delta":"test","obfuscation":"Jm4CcWqMK8gK"}

    event: response.function_call_arguments.delta
    data: {"type":"response.function_call_arguments.delta","sequence_number":9,"item_id":"fc_0573bac7590c482b0169381b4acfa481a1936e19c6d6e23b81","output_index":1,"delta":"\",\"","obfuscation":"yizV8yWYXGpRN"}

    event: response.function_call_arguments.delta
    data: {"type":"response.function_call_arguments.delta","sequence_number":10,"item_id":"fc_0573bac7590c482b0169381b4acfa481a1936e19c6d6e23b81","output_index":1,"delta":"bar","obfuscation":"FJJgQ0AR8pQ9i"}

    event: response.function_call_arguments.delta
    data: {"type":"response.function_call_arguments.delta","sequence_number":11,"item_id":"fc_0573bac7590c482b0169381b4acfa481a1936e19c6d6e23b81","output_index":1,"delta":"\":[\"","obfuscation":"i8RV8rFmFDo4"}

    event: response.function_call_arguments.delta
    data: {"type":"response.function_call_arguments.delta","sequence_number":12,"item_id":"fc_0573bac7590c482b0169381b4acfa481a1936e19c6d6e23b81","output_index":1,"delta":"foo","obfuscation":"xxrcCWtwbroQ2"}

    event: response.function_call_arguments.delta
    data: {"type":"response.function_call_arguments.delta","sequence_number":13,"item_id":"fc_0573bac7590c482b0169381b4acfa481a1936e19c6d6e23b81","output_index":1,"delta":"\",\"","obfuscation":"8e4x1txzA3nmk"}

    event: response.function_call_arguments.delta
    data: {"type":"response.function_call_arguments.delta","sequence_number":14,"item_id":"fc_0573bac7590c482b0169381b4acfa481a1936e19c6d6e23b81","output_index":1,"delta":"bar","obfuscation":"wBbvJbKoJEZ6L"}

    event: response.function_call_arguments.delta
    data: {"type":"response.function_call_arguments.delta","sequence_number":15,"item_id":"fc_0573bac7590c482b0169381b4acfa481a1936e19c6d6e23b81","output_index":1,"delta":"\"]","obfuscation":"D092YXVsvfrBHT"}

    event: response.function_call_arguments.delta
    data: {"type":"response.function_call_arguments.delta","sequence_number":16,"item_id":"fc_0573bac7590c482b0169381b4acfa481a1936e19c6d6e23b81","output_index":1,"delta":"}","obfuscation":"hNX0Gw3GkwK8Bms"}

    event: response.function_call_arguments.done
    data: {"type":"response.function_call_arguments.done","sequence_number":17,"item_id":"fc_0573bac7590c482b0169381b4acfa481a1936e19c6d6e23b81","output_index":1,"arguments":"{\"foo\":\"test\",\"bar\":[\"foo\",\"bar\"]}"}

    event: response.output_item.done
    data: {"type":"response.output_item.done","sequence_number":18,"output_index":1,"item":{"id":"fc_0573bac7590c482b0169381b4acfa481a1936e19c6d6e23b81","type":"function_call","status":"completed","arguments":"{\"foo\":\"test\",\"bar\":[\"foo\",\"bar\"]}","call_id":"call_mmaOnMJ3M2jgvCy4t9pOW1Jj","name":"run_me"}}

    event: response.completed
    data: {"type":"response.completed","sequence_number":19,"response":{"id":"resp_0573bac7590c482b0169381b48187881a18ac6ee3e6c78a4ce","object":"response","created_at":1765284680,"status":"completed","background":false,"error":null,"incomplete_details":null,"instructions":null,"max_output_tokens":null,"max_tool_calls":null,"model":"gpt-5-mini-2025-08-07","output":[{"id":"rs_0573bac7590c482b0169381b48675481a197ade5439b99de7c","type":"reasoning","encrypted_content":"gAAAAABpOBtLsSQoEOuqrxqTWrIfFQQJrqxVLcO-ufXyB6X2d1OrN88gnAp6OoAPz0wq2f_f1RYH7Qpg9DG9FBnwGDSbNOMds528GRPiwnREXGK4XrX1JCZXzKWqyL5KLh9JhaSJWz1tYdvzcwLrs2CjEfdVrUZG2fVXfbEalGvytmbcqsze-PksGU0wW8oJpGpa70IJg9LJzlVpzg16mSwGda_6UePJqcVRAYuq6jCG7EV7ifD9n5pthbllTEe2QQ_Jdo9hRD28b7EVL7RSVL7KdE7eerkZU0y6tCNBiYHBJfx7aVTO1gYTyDlf5AKLP0_kp33DEqbKVQ-6zK9ElHKG6EX2kc1u4BJVJANnwNmGqQPvoiIbcDBdgxGqx7s29Han1TWkid3tpupc6UPy6YYqAty2xIOTCXukoxMaUhx5zqcsJ1SWQdmsj3FT9oIf64J3Jm7rNMb73AKy_IiqsY-3OAf_ndi2KQXfSUTz7NJhf2-eCo61XS2oz1nlEuasZriRGcmj5RI6EvkK8X88q-kx9ez6mgF1CAdZrOzaFGdm5gmHejs8N_elridzZ5JxJYsjdmfxoX7Hx6ecKVn8KCKkEiVPDKq6y19BC5B3klgNc2IopyfUg65-0UI0pamcfvQB_t5sIdhG927fk7ifTvFOU0JYcvV_2mWvkqrsxDQd9tn2p_eh2wPgRLY8wVgds9F5pl44ntCJz87a9pMbn4icxt0v5SVJXKN3d-ZK_TI0GP4WaG-gX5wTxwH9BmTGuZ4FwwzxzG_i9lyZWlrPXQoOJCHccfm6stYyE_qwJNIBKmJRcWPyEMEYYPhjsK5PaBdVKKKy32OBnzwp77328uPIKzMEn1WXhl4s_wy2232FefDY2iAD326aqz2KJs3qR-Zcos6M7jOWaUM6Ka5wtUcZ77Bbs2SA0cFAHiJHPvOIGfif1n_n6f8zKCQDjtkCt9qntccphsakuebWEBDIgBRzssTBMYYGFXlpekHpvIXnLJo-ELVy9q9_PXzDY0y-FvmqJyJCsAp9oAoPDu4NDapDZMyX7xpju5BKeFmip6uDho_cLDzlzLSyoOh421GhqXT9qSeMUjZCqiGnwM1AVt8nfcjC83h3VH8YOhPEdIabeposFieUQ5x6CmPjP4m1A-rFNpwW8sgIwAXRvSJzFrzEBHmkOEpOKBzSLGPzSl6IXJlsbvyWEPrZ-FWf7wVChuQELHDfwc1PvQMVmh7hNcQy-oE_OwIuv08Pvf2vphAHvpLDoO_iNghC-iyTKoh51Kq7lJf_2epQoEmY5dKF9IbAmhwCA7tuThUDOgGFXZi7DN_yWVodsC2kbgJHoN67k8bEYIcweigz5SCRVMnL4vDoP1FBcygE5FLPyZp2ACU0InTFKnOqRY6KF258fGQqhqPzq6_-HcdQcL3Lhwwj8vixbCotwuIwTx5Wdn-aRc2nsMKaRXtYXD5DBv4zfMEKaS5ndxBmGhm6T64ocg_vBCUOwaBjZ3mSeTYTyB8stHpDAfuCApnUeQjT9sMt_Yf7iNy_DNj2QMGobYtfZhkYVXhsCwxq_wTVgJIysbElrKN7mIfALRvMkY5SKhYW6eetrROrmvYfABypMDnKd-v9Q0VHjgjrnwqguUZRftNNEqBRoym4voeZ-yOdEF6cZ00xVZP5h316bzPoIzTqZlbUEEqU2EI2ievmH0bZuO7JblzksbJdCrBI-gLRdc8msYP1z4Q-cDz-4MVDp5FllVphVLx-1b8yzGUZ-vpqll_YEvszzNtySRpH1nZuxBnKewW1If92Ljm3uFJVQTIksVWs1h9lhl-_DKiDHk9s1L0Xicl79352oB7nVh3QOFHo4G5L6HgD5Yul0hmOpEwH0b0k20dD7kR75u_1cwbn_l0iPA3PFDFpiJIVnCsUw5e4ezX9lJ_wMBvMaBkP_V-l36349mU2r57gk2o4pQ==","summary":[]},{"id":"fc_0573bac7590c482b0169381b4acfa481a1936e19c6d6e23b81","type":"function_call","status":"completed","arguments":"{\"foo\":\"test\",\"bar\":[\"foo\",\"bar\"]}","call_id":"call_mmaOnMJ3M2jgvCy4t9pOW1Jj","name":"run_me"}],"parallel_tool_calls":true,"previous_response_id":null,"prompt_cache_key":null,"prompt_cache_retention":null,"reasoning":{"effort":"medium","summary":null},"safety_identifier":null,"service_tier":"default","store":false,"temperature":1.0,"text":{"format":{"type":"text"},"verbosity":"medium"},"tool_choice":"auto","tools":[{"type":"function","description":null,"name":"run_me","parameters":{"type":"object","properties":{"foo":{"default":"foo","type":"string"},"bar":{"anyOf":[{"type":"string","enum":["foo"]},{"type":"array","items":{"type":"string","enum":["foo","bar"]}}]}},"additionalProperties":true,"required":["bar"]},"strict":false}],"top_logprobs":0,"top_p":1.0,"truncation":"auto","usage":{"input_tokens":67,"input_tokens_details":{"cached_tokens":0},"output_tokens":155,"output_tokens_details":{"reasoning_tokens":128},"total_tokens":222},"user":null,"metadata":{}}}
---
when:
  path: /v1/responses
  method: POST
  json_body_str: >-
    {
      "model": "gpt-5-mini",
      "input": [
        {
          "type": "message",
          "role": "system",
          "content": []
        },
        {
          "type": "message",
          "role": "user",
          "content": "Testing tool call"
        },
        {
          "type": "reasoning",
          "id": "rs_0573bac7590c482b0169381b48675481a197ade5439b99de7c",
          "summary": [
            {
              "type": "summary_text",
              "text": ""
            }
          ],
          "encrypted_content": "gAAAAABpOBtKEXtRhd9rPGJRQKstAKsMt_FuB4R3pmqRcsmanw7b6t0H3ctUagv-9vWKqPfQPzRbSmNofc1IGxe58bVAH2Zz6ktHsvuF0MbQVu7_Vf0qzLjedlVPcnK8Kjl94IBcAXapFOy0QNTxw_0YZLpaFLSMjDJxgqdCvIfBV92StDIYVaiat938sJcrZ2HFtb-JDSD2AaWMRxe-vGPkn6YqwUOn9HMZUYi-RyxMdJ-ZB4ye8FaUEpS1OeECchgWtRmGTvtxhIbY2pyBWyQk1yAazUCN-6SAD58xHFa4QxTKbgFHR3nYoS48hIJyehjUp6Fir42y3Xw6CfkvY2pEgdoxCiPX8hL_zssPOECCbYUVlnFTwGXbOsqgMqE6fFQgpKIiJyg7LV56cyfDrFK9Oo5FpmTX-ySosKgSBeRzSRvP4n-QR4Z5Tj-tTNvTI2Jh5K5w5umkzMpxUpSj55rjjXKK8XPF4X2KFnx7nIhI4lckTTADFWEkGEQwGa-9RcOx1jleEMwhCAq_ngZpmJp1nNtR_xOtHwUfZyeoFEnhc7-0DUc8bbwDQN23l6OTA16sNgfyeTW1QjB7kd1CuQxerw6CUTiJymcHH6xp-7KkBt3VHVEMwqw5j4dzp363M7zN43cVR4xBU03nEO811rU-CpYlPrO-GCpj4rVf6I1uwCfEqT6ZpCuVUXKDLpdmp919PRt2Uq_5NOmU47IrA-ATAQsJQ7oG9tHLMaCrhWfy7ULY1p9Xs8fjmCVtJONOZjdbiuOTm_bE6pEc24CjDNHRJQQPmeKFY1oit8i1IrP9obD3D6bbaQnQ9OpcMwPowF45uesGwBtr0xli1Gr8xGBSU04r3n179Ur475h55mJhm_F4x3v98shuAUYLriRKyIyR3I3RcsjNRk1_clpSsMTDwKYHiTYFdoRY6MA72y0VGpobYqRbRvQoyoGWB8DoFZRLn1UWcl8gOWcKqU_qLY8N6hSnI__jfrxwyIN3mhzaeH2nspuMsyvG_4yAkLeZs1CvQlvoSfwUlm3WQgRU2SofQp3y531DAzaqyfSbZdyqMlGmXFgogfPEt1dHKriNjUnw5K-K_Q83wPyeDGFCH97TgQY9y_gW_Uo2T95nYz3GVPcNBXcwZcw4DpiDawznAzTV1IG1HAEdb8IR0JUzsT63D7dxNq7jVu26NVmu_ZzdC9vaUcmE7cg8_k6-_3pW6xok63iAtQdgly7MdjRtbrNggziDP-q_6s1mytPZ3PmrUa0HpqwvF7bE7LxBFlGYcDtHm71pKHgghgfPg67wgSp16a_NEriTykm-Tj2AIXf5e-tpDLJbf6EGz1u4OzgdF8ncVp4RVXL4Lm3dUgWMXVGkMTtZ-q01j-6zaB0ZYhm76MSITKoOxXdNaPWuXodoAoC4i5jbZ23cNaJOJFamPIlif7ET7UZGhynHoW45-JdHBg3xW_n4boaCGmgSvY-3_6GBZ_hn2lXsoQCMJeWRkl2hkyVLHRx-OAoVaU5-IYaZszIDkLWZ-ZQHcJbxoZQUjck61PVSamst9OlIg35GApHEUYDaXHQI3-7cKQEy6e5CpniGjUcSlOAnqxdVm9Gt_WyLhbRn_2G9b5sFsJBGmnJQhcB5s2dKI1gZY_EWtk3WjVFUgoMLSRCqstLB3MT3B6oMjT97cK96NmthtDJ-L6IvzU_zmdt3yTWoTMnwyR7lX_kIWPoh3ZsmP51acnSwbuWg4jO772WxKtd4nXqbIyAnc3_EUBruvySLDUgHvOjlU2IsVWJHcLqmvfGf6aj7plJ56unEHECvYGesgFlHeJp_uqJILqA2BTsUJ-NhtwnItCeC4vfHLb-ZLFxShbQjJpF5dP6o2ZQbGVUNqEZyh5hbIdfnkc5qgLPXyXNWnF3WOLXLLxPFXFeeoYtubJGIk36YvPmnnXGSSAs46w2tO0NjZr41gj0cqA=="
        },
        {
          "type": "function_call",
          "arguments": "{\"foo\":\"test\",\"bar\":[\"foo\",\"bar\"]}",
          "call_id": "call_mmaOnMJ3M2jgvCy4t9pOW1Jj",
          "id": null,
          "name": "run_me",
          "status": null
        },
        {
          "type": "function_call_output",
          "id": null,
          "status": null,
          "call_id": "call_mmaOnMJ3M2jgvCy4t9pOW1Jj",
          "output": "working!"
        }
      ],
      "include": [
        "reasoning.encrypted_content"
      ],
      "instructions": null,
      "max_output_tokens": null,
      "metadata": null,
      "parallel_tool_calls": null,
      "previous_response_id": null,
      "reasoning": null,
      "service_tier": null,
      "store": false,
      "stream": true,
      "temperature": null,
      "text": null,
      "tool_choice": "auto",
      "tools": [],
      "top_p": null,
      "truncation": "auto",
      "user": null
    }
then:
  status: 200
  header:
    - name: content-type
      value: text/event-stream; charset=utf-8
  body: |-
    event: response.created
    data: {"type":"response.created","sequence_number":0,"response":{"id":"resp_0573bac7590c482b0169381b4bb94881a1b89619d93c2c3d37","object":"response","created_at":1765284683,"status":"in_progress","background":false,"error":null,"incomplete_details":null,"instructions":null,"max_output_tokens":null,"max_tool_calls":null,"model":"gpt-5-mini-2025-08-07","output":[],"parallel_tool_calls":true,"previous_response_id":null,"prompt_cache_key":null,"prompt_cache_retention":null,"reasoning":{"effort":"medium","summary":null},"safety_identifier":null,"service_tier":"auto","store":false,"temperature":1.0,"text":{"format":{"type":"text"},"verbosity":"medium"},"tool_choice":"auto","tools":[],"top_logprobs":0,"top_p":1.0,"truncation":"auto","usage":null,"user":null,"metadata":{}}}

    event: response.in_progress
    data: {"type":"response.in_progress","sequence_number":1,"response":{"id":"resp_0573bac7590c482b0169381b4bb94881a1b89619d93c2c3d37","object":"response","created_at":1765284683,"status":"in_progress","background":false,"error":null,"incomplete_details":null,"instructions":null,"max_output_tokens":null,"max_tool_calls":null,"model":"gpt-5-mini-2025-08-07","output":[],"parallel_tool_calls":true,"previous_response_id":null,"prompt_cache_key":null,"prompt_cache_retention":null,"reasoning":{"effort":"medium","summary":null},"safety_identifier":null,"service_tier":"auto","store":false,"temperature":1.0,"text":{"format":{"type":"text"},"verbosity":"medium"},"tool_choice":"auto","tools":[],"top_logprobs":0,"top_p":1.0,"truncation":"auto","usage":null,"user":null,"metadata":{}}}

    event: response.output_item.added
    data: {"type":"response.output_item.added","sequence_number":2,"output_index":0,"item":{"id":"msg_0573bac7590c482b0169381b4bf5c081a1a346e7aaf9f93991","type":"message","status":"in_progress","content":[],"role":"assistant"}}

    event: response.content_part.added
    data: {"type":"response.content_part.added","sequence_number":3,"item_id":"msg_0573bac7590c482b0169381b4bf5c081a1a346e7aaf9f93991","output_index":0,"content_index":0,"part":{"type":"output_text","annotations":[],"logprobs":[],"text":""}}

    event: response.output_text.delta
    data: {"type":"response.output_text.delta","sequence_number":4,"item_id":"msg_0573bac7590c482b0169381b4bf5c081a1a346e7aaf9f93991","output_index":0,"content_index":0,"delta":"Tool","logprobs":[],"obfuscation":"L5sN7rSjWnfF"}

    event: response.output_text.delta
    data: {"type":"response.output_text.delta","sequence_number":5,"item_id":"msg_0573bac7590c482b0169381b4bf5c081a1a346e7aaf9f93991","output_index":0,"content_index":0,"delta":" ran","logprobs":[],"obfuscation":"80ewZSqUmKZO"}

    event: response.output_text.delta
    data: {"type":"response.output_text.delta","sequence_number":6,"item_id":"msg_0573bac7590c482b0169381b4bf5c081a1a346e7aaf9f93991","output_index":0,"content_index":0,"delta":" successfully","logprobs":[],"obfuscation":"r6M"}

    event: response.output_text.delta
    data: {"type":"response.output_text.delta","sequence_number":7,"item_id":"msg_0573bac7590c482b0169381b4bf5c081a1a346e7aaf9f93991","output_index":0,"content_index":0,"delta":".","logprobs":[],"obfuscation":"Kov9l52toMkcy86"}

    event: response.output_text.delta
    data: {"type":"response.output_text.delta","sequence_number":8,"item_id":"msg_0573bac7590c482b0169381b4bf5c081a1a346e7aaf9f93991","output_index":0,"content_index":0,"delta":" Output","logprobs":[],"obfuscation":"ptDQXKWQT"}

    event: response.output_text.delta
    data: {"type":"response.output_text.delta","sequence_number":9,"item_id":"msg_0573bac7590c482b0169381b4bf5c081a1a346e7aaf9f93991","output_index":0,"content_index":0,"delta":":","logprobs":[],"obfuscation":"gXv2wJCOcaIE24R"}

    event: response.output_text.delta
    data: {"type":"response.output_text.delta","sequence_number":10,"item_id":"msg_0573bac7590c482b0169381b4bf5c081a1a346e7aaf9f93991","output_index":0,"content_index":0,"delta":" \"","logprobs":[],"obfuscation":"Hkd6w4z6JHQSW6"}

    event: response.output_text.delta
    data: {"type":"response.output_text.delta","sequence_number":11,"item_id":"msg_0573bac7590c482b0169381b4bf5c081a1a346e7aaf9f93991","output_index":0,"content_index":0,"delta":"working","logprobs":[],"obfuscation":"ivni2yVHZ"}

    event: response.output_text.delta
    data: {"type":"response.output_text.delta","sequence_number":12,"item_id":"msg_0573bac7590c482b0169381b4bf5c081a1a346e7aaf9f93991","output_index":0,"content_index":0,"delta":"!\"","logprobs":[],"obfuscation":"AMLEWMYWbFBhif"}

    event: response.output_text.done
    data: {"type":"response.output_text.done","sequence_number":13,"item_id":"msg_0573bac7590c482b0169381b4bf5c081a1a346e7aaf9f93991","output_index":0,"content_index":0,"text":"Tool ran successfully. Output: \"working!\"","logprobs":[]}

    event: response.content_part.done
    data: {"type":"response.content_part.done","sequence_number":14,"item_id":"msg_0573bac7590c482b0169381b4bf5c081a1a346e7aaf9f93991","output_index":0,"content_index":0,"part":{"type":"output_text","annotations":[],"logprobs":[],"text":"Tool ran successfully. Output: \"working!\""}}

    event: response.output_item.done
    data: {"type":"response.output_item.done","sequence_number":15,"output_index":0,"item":{"id":"msg_0573bac7590c482b0169381b4bf5c081a1a346e7aaf9f93991","type":"message","status":"completed","content":[{"type":"output_text","annotations":[],"logprobs":[],"text":"Tool ran successfully. Output: \"working!\""}],"role":"assistant"}}

    event: response.completed
    data: {"type":"response.completed","sequence_number":16,"response":{"id":"resp_0573bac7590c482b0169381b4bb94881a1b89619d93c2c3d37","object":"response","created_at":1765284683,"status":"completed","background":false,"error":null,"incomplete_details":null,"instructions":null,"max_output_tokens":null,"max_tool_calls":null,"model":"gpt-5-mini-2025-08-07","output":[{"id":"msg_0573bac7590c482b0169381b4bf5c081a1a346e7aaf9f93991","type":"message","status":"completed","content":[{"type":"output_text","annotations":[],"logprobs":[],"text":"Tool ran successfully. Output: \"working!\""}],"role":"assistant"}],"parallel_tool_calls":true,"previous_response_id":null,"prompt_cache_key":null,"prompt_cache_retention":null,"reasoning":{"effort":"medium","summary":null},"safety_identifier":null,"service_tier":"default","store":false,"temperature":1.0,"text":{"format":{"type":"text"},"verbosity":"medium"},"tool_choice":"auto","tools":[],"top_logprobs":0,"top_p":1.0,"truncation":"auto","usage":{"input_tokens":226,"input_tokens_details":{"cached_tokens":0},"output_tokens":13,"output_tokens_details":{"reasoning_tokens":0},"total_tokens":239},"user":null,"metadata":{}}}
