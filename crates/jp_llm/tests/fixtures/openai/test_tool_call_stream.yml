when:
  path: /v1/responses
  method: POST
  json_body_str: >-
    {
      "model": "gpt-5-mini",
      "input": [
        {
          "type": "message",
          "role": "system",
          "content": []
        },
        {
          "type": "message",
          "role": "user",
          "content": "Testing tool call"
        }
      ],
      "include": [
        "reasoning.encrypted_content"
      ],
      "instructions": null,
      "max_output_tokens": null,
      "metadata": null,
      "parallel_tool_calls": null,
      "previous_response_id": null,
      "reasoning": null,
      "service_tier": null,
      "store": false,
      "stream": true,
      "temperature": null,
      "text": null,
      "tool_choice": "auto",
      "tools": [
        {
          "type": "function",
          "name": "run_me",
          "parameters": {
            "type": "object",
            "properties": {
              "foo": {
                "default": "foo",
                "type": "string"
              },
              "bar": {
                "anyOf": [
                  {
                    "type": "string",
                    "enum": [
                      "foo"
                    ]
                  },
                  {
                    "type": "array",
                    "items": {
                      "type": "string",
                      "enum": [
                        "foo",
                        "bar"
                      ]
                    }
                  }
                ]
              }
            },
            "additionalProperties": true,
            "required": [
              "bar"
            ]
          },
          "strict": false,
          "description": null
        }
      ],
      "top_p": null,
      "truncation": "auto",
      "user": null
    }
then:
  status: 200
  header:
    - name: content-type
      value: text/event-stream; charset=utf-8
  body: |-
    event: response.created
    data: {"type":"response.created","sequence_number":0,"response":{"id":"resp_031018b8eac6e7860169381b4df954819d8e0ab1c7da0ae4a2","object":"response","created_at":1765284685,"status":"in_progress","background":false,"error":null,"incomplete_details":null,"instructions":null,"max_output_tokens":null,"max_tool_calls":null,"model":"gpt-5-mini-2025-08-07","output":[],"parallel_tool_calls":true,"previous_response_id":null,"prompt_cache_key":null,"prompt_cache_retention":null,"reasoning":{"effort":"medium","summary":null},"safety_identifier":null,"service_tier":"auto","store":false,"temperature":1.0,"text":{"format":{"type":"text"},"verbosity":"medium"},"tool_choice":"auto","tools":[{"type":"function","description":null,"name":"run_me","parameters":{"type":"object","properties":{"foo":{"default":"foo","type":"string"},"bar":{"anyOf":[{"type":"string","enum":["foo"]},{"type":"array","items":{"type":"string","enum":["foo","bar"]}}]}},"additionalProperties":true,"required":["bar"]},"strict":false}],"top_logprobs":0,"top_p":1.0,"truncation":"auto","usage":null,"user":null,"metadata":{}}}

    event: response.in_progress
    data: {"type":"response.in_progress","sequence_number":1,"response":{"id":"resp_031018b8eac6e7860169381b4df954819d8e0ab1c7da0ae4a2","object":"response","created_at":1765284685,"status":"in_progress","background":false,"error":null,"incomplete_details":null,"instructions":null,"max_output_tokens":null,"max_tool_calls":null,"model":"gpt-5-mini-2025-08-07","output":[],"parallel_tool_calls":true,"previous_response_id":null,"prompt_cache_key":null,"prompt_cache_retention":null,"reasoning":{"effort":"medium","summary":null},"safety_identifier":null,"service_tier":"auto","store":false,"temperature":1.0,"text":{"format":{"type":"text"},"verbosity":"medium"},"tool_choice":"auto","tools":[{"type":"function","description":null,"name":"run_me","parameters":{"type":"object","properties":{"foo":{"default":"foo","type":"string"},"bar":{"anyOf":[{"type":"string","enum":["foo"]},{"type":"array","items":{"type":"string","enum":["foo","bar"]}}]}},"additionalProperties":true,"required":["bar"]},"strict":false}],"top_logprobs":0,"top_p":1.0,"truncation":"auto","usage":null,"user":null,"metadata":{}}}

    event: response.output_item.added
    data: {"type":"response.output_item.added","sequence_number":2,"output_index":0,"item":{"id":"rs_031018b8eac6e7860169381b4e3f1c819d86718ef291c37bdf","type":"reasoning","encrypted_content":"gAAAAABpOBtOeCLrTSAJY8PhL5bIpEV_unzX0wdlNa0w_BWxwyvqT4RNi8Q1fn8YXTp3XzYBU4cBMJUDpfsSInPSNaclRv7pDeOano0A0aDToLOuMkCLTaJYYmot94kHWjaTbE28ZylyN31tr4dHSVcsEbav6rq1iIgQ2I171DxgLRqb89c1sxXK7pplEmJWwtO5yq3nyiNE0Ln1AJ_NOw-ylDTlXwISoGuqiyMtXDhf8LP6n1K-BtVTsCltP_EU_9SNOxAa3pjIGLiuehJTS1yYaKQ9Yys39IFxfKjTE2oxGRSFoXFq8u9Dms88JjHwDbTWdxoJ-cOzx_VK9UTKuCeyiKfizC9MZGJECQkgM1z-Un54YvIM31jRg81etphOxl6wiF7-ffWvR3z-kBEyqhoXPfDoyVcxAjjwTa1Hca_BGbV6DatB-RnlZh-7U8J4r-pnPQfL-9xsDNGpfC5eIKHLuwuCFGp9cqQbuYAv5tF5mjWccr5XWWZ61fwX7w9RDY1mhqGjXlS-wB-c6QVoXl57mFRd0Oou5oXkgvh0ib_Dey6Zi4q140O-QR9e4nkmX7YD5pQDCeg1G3xBWOJPGlmC68JzNB9pQbYqFAh0Y7dy7e-tTzkc8FaQakI1vLiJK952rcD8LBYV8ZMnq8NLEpT6TeoNfcM0wTaqaJKCEDcFtm_dyn3ROnQFF0Sy-OAlnxy-PrVfsYbCWXtflwtXbk1WHSVfHxE5HrRGtj3tIzNyYeJC3PAmh_2vKy9M7wkZ4hFPe-Fs8F7Qy-YEqwH69zV_OXS8u0J9iHec2h1-8bLdpFpvsTdfrayHVcL-tLRnWtw0hDmJTcLRZeTvh-X2lGCbGAlzaVV8jw==","summary":[]}}

    event: response.output_item.done
    data: {"type":"response.output_item.done","sequence_number":3,"output_index":0,"item":{"id":"rs_031018b8eac6e7860169381b4e3f1c819d86718ef291c37bdf","type":"reasoning","encrypted_content":"gAAAAABpOBtQH6q6ooZ8ZXybk81y0UPjX6yjbWXLuw5_WksLBxPXxv7aqzNqqctjZsvVdVODoYVx6a0DLHtH0DZqpZLtlNv2ZSd00jhK1wqB9xkaq20UUz4B8lEQjy58umM_cF4JcLKhMkqyhoVcKeNJWp3Env8ymTdjavxIau6AnZNwrSVKlnVCN_TROsFkm0lYFC4p02G6NSf0BSxh8sBBOvUBApgvvZ8hWo31jr5Nrx2NxVvuLABSxob1AqWsEMdIrzClhSf_zCwK6Q2EVQ7kkfbpOcliV9AWInUn-bt988ravaj46s1QgqUww3X0GmZAKEfbFd2jIbOaBmEDLzKLx614vJID2mcWVH0Vicq5CFzBD-4PvMFIvB36ycdkLq4Qvk9uoqJcG-2FZSuY-ilx6RTO-M7S07iMCfBVwrXA5nY6cYtMHctK41_3PNkRuwcoTKjMAXuqrGa42Oouc73M6J3JIjbQS7nnRU3CIyEKrbcGXYKX4tIhRS4m2m_sDxRMHFKO7P3AB36GYjQ47IKqN0_ZvJglwlYyXZ5zi6R-6sKenbfmg8yhQCQqfNglxj94Ec6k2lm0gvNnNHL4G3IH0matmJUZOG6D4lcrxfu4qAwNnRMm7437NW-kppec8cCe9AbXiDg7WNTIRCaZ0DTWB1xg13o1WAAABFwrKc2VbYjMqLvj74V2fFfICJuZ5WbTh98N-yHnej2gIs0FsLH9wMArVfNSyWEpRX5gL1LvQtVlMpWiml0mUMVj8cGUIgbc_7fjsUK19YkPLi41vcfhCuT4KOs8ZFKhcjjdAAXo7aRCv8b2aywn0Fu7WZJgXbiEigY8OtCocdeLmmItHkdDl2jJFto9ixY2A5O_jMu5jvjW6RS6_pABuyv29UHRuEcN0TorCAsijcw0zd2FCyEMM6J8B7-jqJOsPfJ3n-6PavwBPcuHXMkrLjnZEykWRoShbGaHBbLzD4FRPftWZULk5Q2dLMdWn5MlmhPvCtbl8VMhqP-ht2-zY3V4uo8WgcKxYpL7x2m0xJdvdXlDwnGQnoeuf4ueKxD7XL0soBmHEoNReWr0gL48kAUj20YslJnT_AzEP71hFnLLjDK05hgCbo8KWLFfcDWAm7zyzY_SZJHW_XPKnou9Tzl8654--4oRHEUJ2UdmzPQTSdTBphPfSqKDR9MqcfALT8c8IS0wMV4jLJZxijYhpYDl-b0mUBzyNo3_LRV_-pcQIt2ig9-t46BkrlYNy67ctmyZZg4Vm9l1pM1g9Cb4vCstbrB7eSsikx1oIH2aV8_FB7HjWzN0GSkyzL0xFI3wrnevz0jb9AScKnO0lqr4ckUV84cOIyD0VX8wjI3HukUUUPgKTzE7zM5ePm9IEBj8icvSIhN1cRdwhOHs_IP_Pay59VrjMG_SEM_egKm2FS7XqzeKjDQxCWu6NfMnKZCw278nqQGI9cZ5xTAkXK4VVavP6-x0jgZ01EfchyoICMXgUYcnYklBXoghFS8opxBPQMdFtLbZBpzgrKsVzxrenyXYi6WVYQ8TgUu6NNdhdQU6mXxu-B3TE-3ii57Oz9QhN68LJ0Oz-UTf6mjTPYerq8lOsetEGfHvRyz86G2wn4JHnVWZzduLsSylL_j-DCK4QDGko81qFZ1q6CrblMD5Uw7-hTU14cF3gFGRn-_koZ4cIEYnrwl2ZlhTHaScr46S6gVeaCSmhybHNcedyeucYQAf7ORhU6I7dCh01PlAEdfB47CUgwIpQySbGh027fBs-MQ6KQiFKDzKdJrYEKK0RDBvFSOHydnk9WU7GR_PeT0IGHku6tZUq8oxgZW0g1OejIajsjCURnyRv6_Il9w=","summary":[]}}

    event: response.output_item.added
    data: {"type":"response.output_item.added","sequence_number":4,"output_index":1,"item":{"id":"fc_031018b8eac6e7860169381b504b74819da8e7773a5288dd2e","type":"function_call","status":"in_progress","arguments":"","call_id":"call_AdV4F0rQC8p6GKjEHYMBIE29","name":"run_me"}}

    event: response.function_call_arguments.delta
    data: {"type":"response.function_call_arguments.delta","sequence_number":5,"item_id":"fc_031018b8eac6e7860169381b504b74819da8e7773a5288dd2e","output_index":1,"delta":"{\"","obfuscation":"Jf4HbmlMuIk562"}

    event: response.function_call_arguments.delta
    data: {"type":"response.function_call_arguments.delta","sequence_number":6,"item_id":"fc_031018b8eac6e7860169381b504b74819da8e7773a5288dd2e","output_index":1,"delta":"foo","obfuscation":"TslGjfewku58c"}

    event: response.function_call_arguments.delta
    data: {"type":"response.function_call_arguments.delta","sequence_number":7,"item_id":"fc_031018b8eac6e7860169381b504b74819da8e7773a5288dd2e","output_index":1,"delta":"\":\"","obfuscation":"RRIGmfZoJhMbQ"}

    event: response.function_call_arguments.delta
    data: {"type":"response.function_call_arguments.delta","sequence_number":8,"item_id":"fc_031018b8eac6e7860169381b504b74819da8e7773a5288dd2e","output_index":1,"delta":"test","obfuscation":"tzp9aHwuai7a"}

    event: response.function_call_arguments.delta
    data: {"type":"response.function_call_arguments.delta","sequence_number":9,"item_id":"fc_031018b8eac6e7860169381b504b74819da8e7773a5288dd2e","output_index":1,"delta":"\",\"","obfuscation":"JtigllbwyICDU"}

    event: response.function_call_arguments.delta
    data: {"type":"response.function_call_arguments.delta","sequence_number":10,"item_id":"fc_031018b8eac6e7860169381b504b74819da8e7773a5288dd2e","output_index":1,"delta":"bar","obfuscation":"LhSExpeF1imTO"}

    event: response.function_call_arguments.delta
    data: {"type":"response.function_call_arguments.delta","sequence_number":11,"item_id":"fc_031018b8eac6e7860169381b504b74819da8e7773a5288dd2e","output_index":1,"delta":"\":[\"","obfuscation":"3usGq0qyWDkF"}

    event: response.function_call_arguments.delta
    data: {"type":"response.function_call_arguments.delta","sequence_number":12,"item_id":"fc_031018b8eac6e7860169381b504b74819da8e7773a5288dd2e","output_index":1,"delta":"foo","obfuscation":"84hiCx2xo8fxH"}

    event: response.function_call_arguments.delta
    data: {"type":"response.function_call_arguments.delta","sequence_number":13,"item_id":"fc_031018b8eac6e7860169381b504b74819da8e7773a5288dd2e","output_index":1,"delta":"\",\"","obfuscation":"QZTE6UiNhEsXx"}

    event: response.function_call_arguments.delta
    data: {"type":"response.function_call_arguments.delta","sequence_number":14,"item_id":"fc_031018b8eac6e7860169381b504b74819da8e7773a5288dd2e","output_index":1,"delta":"bar","obfuscation":"5Gxmh4XFSBQsP"}

    event: response.function_call_arguments.delta
    data: {"type":"response.function_call_arguments.delta","sequence_number":15,"item_id":"fc_031018b8eac6e7860169381b504b74819da8e7773a5288dd2e","output_index":1,"delta":"\"]","obfuscation":"3if8ZwzYcsW86v"}

    event: response.function_call_arguments.delta
    data: {"type":"response.function_call_arguments.delta","sequence_number":16,"item_id":"fc_031018b8eac6e7860169381b504b74819da8e7773a5288dd2e","output_index":1,"delta":"}","obfuscation":"C962Iv7UL1SlUzV"}

    event: response.function_call_arguments.done
    data: {"type":"response.function_call_arguments.done","sequence_number":17,"item_id":"fc_031018b8eac6e7860169381b504b74819da8e7773a5288dd2e","output_index":1,"arguments":"{\"foo\":\"test\",\"bar\":[\"foo\",\"bar\"]}"}

    event: response.output_item.done
    data: {"type":"response.output_item.done","sequence_number":18,"output_index":1,"item":{"id":"fc_031018b8eac6e7860169381b504b74819da8e7773a5288dd2e","type":"function_call","status":"completed","arguments":"{\"foo\":\"test\",\"bar\":[\"foo\",\"bar\"]}","call_id":"call_AdV4F0rQC8p6GKjEHYMBIE29","name":"run_me"}}

    event: response.completed
    data: {"type":"response.completed","sequence_number":19,"response":{"id":"resp_031018b8eac6e7860169381b4df954819d8e0ab1c7da0ae4a2","object":"response","created_at":1765284685,"status":"completed","background":false,"error":null,"incomplete_details":null,"instructions":null,"max_output_tokens":null,"max_tool_calls":null,"model":"gpt-5-mini-2025-08-07","output":[{"id":"rs_031018b8eac6e7860169381b4e3f1c819d86718ef291c37bdf","type":"reasoning","encrypted_content":"gAAAAABpOBtQl6cDu8a51ozGUu9hcF84bMKc5NnG3FaRzW7bqreSE3avO-lyQcsgXmdOjxxAOnFc5nXfz_PrBgPTSyhoquTadItMuY4O-nd0GShZlwscEEQF8E5B2lZpSDOdOASTYF7iNQgkwPS28EYcaJUaz5uNNrsz6czC6jms8qLqGpIDsKMC8FarT1JcHhC9PIRm_ApGHA9L-XXyMgP_TzB_p0lfWkSZqE90vu4ttzteYFJpaChfkzXwK5aUJhiriokI-A2pdvTl2nIQlNpBJM7gvR-KYnpk-5Wk2VZzA93j0wzWAhKw4AXuGEbMfmiTdeaxmdrcYlOXU3rHUkTR2GCI5PYt_eKXt_h6_Xo_Bp6Wr6UbNP13CNWAVOpEmxZ77aohNyPkMien-Irga5JOswVbQ1uK8JLRUwE_iyoCFdGP_xjJwC1G3Q2-c0NFwSEaNAt85jQ1fWrSB85nIDxPyaOLF9lpw8eMSlS2MvY6-ka8HzM7k-C-hM9YXbWEqgj6oVI4pG6JQhKhI9UxdsuRjW-BuXcrS9CrqLmJyan-lARpQDrZ9dJp1a9ZGbHWDFOedXFTwNT9iiOfZ3RVH2MpP65h0NUwc0hHSTqRy3rABTJiSzMgvh7f85PHl1JpnOowZMgFjLct5yWA_8dFF27LC9S8DysrYO5I2qkwiZpcMrBo_L3wheEil4CtyIrrX83zJf-7r69wIH_kGrnbO8gQQbJgG91JGSdvSPgLqJJLU4gkvY9743j6b3UQ3H3XP-A0Tkro5P2f-SqxTLiuhvEk6c2UoYJGYFbKyFPGamEzsKijuoTHLiUibX2sDSpQyOjPZwdztAPziY5M-YnLIAQj7n77-14eZJgGoBfhsxoCTi3MbmkFvV7QN97EOKiSStkM9hQiED4uq90JgQnshE1fYI6Z8UjfYS1FFS5ng4IB5ShrH3oj-O2whna9YCZab2qfFWjj86XewRKO6kZssikiEKeEt1C1YEYtiHKv8VOcA8CCAOkekVOR8fKf7QDXAH9_-pI6W0fTntlRUUxKeL7mZ90-w4bXC5l2MnJZ3jaODzJQRQS_fykxBanpIJhQDr8Aj5XrEtimZY5yJHp_6R1DGURD_wcXzSyATqqh57Nw0A4_2f5Fz5TTQOEuTlx658XDACCqqvWXf-wjbZIJSpz9VqwOh_WVu6J88L8yQtkqMAfFBE2q_wRW_BocijP74XEEtZIUX0Ljh5_JDoCgY9Pmg-Em52xYKTXmVlMOql34WGBudU_4hphFveX384o0CTl3Wk3vg1eECCn774a-1wBz-uUGph7kK5ceSea_LJvW0Mr70n7q5pDx1avGEt63PSB9BF5B8Oh8jMRGmCd9xMiz5TRJ_q9QNYubuJMegRaHgeiy_Sf8E1XuKuuEeT2x0DlZJvePE50LyzI-Xy9kqYhbGjrHFNCXD7SQvHQuhgpXQkstbfzKuAF1orZ4q7LKxAkIEhmMDWKLZTrELQnRN_ADQYZMOlOSTTObckNQNiolZCZUwW7tZNgF22DqdpdOuNsiU3cJKGo7veskI2jFk3BUnZeJBcHF_mvsBsfYHzs7AWxhbyN7lfvSmK2_raGYWdhtwAWKQZ_-5JxOX3ZkeKIGZ_M-06JGOEN0DIER2I96Rk1YO6bJpS6hjmzOeI1qVC57xkFMy1YftZ13h5xEc53fGitzEDTcGrWCbOwZ06YA6ByOlVt1ZuWPdbHLTOTwzsDJGq_N31P86T978vmBDE-ninlTs-HHXULR3MFb7Mc9yDr4ql9NpJdAEipowHNf_5MgAdagBvNAjmYgyofxqjzO5XpO9OVMbqCzl4oPGaJGCT4nPjsGSDM=","summary":[]},{"id":"fc_031018b8eac6e7860169381b504b74819da8e7773a5288dd2e","type":"function_call","status":"completed","arguments":"{\"foo\":\"test\",\"bar\":[\"foo\",\"bar\"]}","call_id":"call_AdV4F0rQC8p6GKjEHYMBIE29","name":"run_me"}],"parallel_tool_calls":true,"previous_response_id":null,"prompt_cache_key":null,"prompt_cache_retention":null,"reasoning":{"effort":"medium","summary":null},"safety_identifier":null,"service_tier":"default","store":false,"temperature":1.0,"text":{"format":{"type":"text"},"verbosity":"medium"},"tool_choice":"auto","tools":[{"type":"function","description":null,"name":"run_me","parameters":{"type":"object","properties":{"foo":{"default":"foo","type":"string"},"bar":{"anyOf":[{"type":"string","enum":["foo"]},{"type":"array","items":{"type":"string","enum":["foo","bar"]}}]}},"additionalProperties":true,"required":["bar"]},"strict":false}],"top_logprobs":0,"top_p":1.0,"truncation":"auto","usage":{"input_tokens":67,"input_tokens_details":{"cached_tokens":0},"output_tokens":155,"output_tokens_details":{"reasoning_tokens":128},"total_tokens":222},"user":null,"metadata":{}}}
---
when:
  path: /v1/responses
  method: POST
  json_body_str: >-
    {
      "model": "gpt-5-mini",
      "input": [
        {
          "type": "message",
          "role": "system",
          "content": []
        },
        {
          "type": "message",
          "role": "user",
          "content": "Testing tool call"
        },
        {
          "type": "reasoning",
          "id": "rs_031018b8eac6e7860169381b4e3f1c819d86718ef291c37bdf",
          "summary": [
            {
              "type": "summary_text",
              "text": ""
            }
          ],
          "encrypted_content": "gAAAAABpOBtQH6q6ooZ8ZXybk81y0UPjX6yjbWXLuw5_WksLBxPXxv7aqzNqqctjZsvVdVODoYVx6a0DLHtH0DZqpZLtlNv2ZSd00jhK1wqB9xkaq20UUz4B8lEQjy58umM_cF4JcLKhMkqyhoVcKeNJWp3Env8ymTdjavxIau6AnZNwrSVKlnVCN_TROsFkm0lYFC4p02G6NSf0BSxh8sBBOvUBApgvvZ8hWo31jr5Nrx2NxVvuLABSxob1AqWsEMdIrzClhSf_zCwK6Q2EVQ7kkfbpOcliV9AWInUn-bt988ravaj46s1QgqUww3X0GmZAKEfbFd2jIbOaBmEDLzKLx614vJID2mcWVH0Vicq5CFzBD-4PvMFIvB36ycdkLq4Qvk9uoqJcG-2FZSuY-ilx6RTO-M7S07iMCfBVwrXA5nY6cYtMHctK41_3PNkRuwcoTKjMAXuqrGa42Oouc73M6J3JIjbQS7nnRU3CIyEKrbcGXYKX4tIhRS4m2m_sDxRMHFKO7P3AB36GYjQ47IKqN0_ZvJglwlYyXZ5zi6R-6sKenbfmg8yhQCQqfNglxj94Ec6k2lm0gvNnNHL4G3IH0matmJUZOG6D4lcrxfu4qAwNnRMm7437NW-kppec8cCe9AbXiDg7WNTIRCaZ0DTWB1xg13o1WAAABFwrKc2VbYjMqLvj74V2fFfICJuZ5WbTh98N-yHnej2gIs0FsLH9wMArVfNSyWEpRX5gL1LvQtVlMpWiml0mUMVj8cGUIgbc_7fjsUK19YkPLi41vcfhCuT4KOs8ZFKhcjjdAAXo7aRCv8b2aywn0Fu7WZJgXbiEigY8OtCocdeLmmItHkdDl2jJFto9ixY2A5O_jMu5jvjW6RS6_pABuyv29UHRuEcN0TorCAsijcw0zd2FCyEMM6J8B7-jqJOsPfJ3n-6PavwBPcuHXMkrLjnZEykWRoShbGaHBbLzD4FRPftWZULk5Q2dLMdWn5MlmhPvCtbl8VMhqP-ht2-zY3V4uo8WgcKxYpL7x2m0xJdvdXlDwnGQnoeuf4ueKxD7XL0soBmHEoNReWr0gL48kAUj20YslJnT_AzEP71hFnLLjDK05hgCbo8KWLFfcDWAm7zyzY_SZJHW_XPKnou9Tzl8654--4oRHEUJ2UdmzPQTSdTBphPfSqKDR9MqcfALT8c8IS0wMV4jLJZxijYhpYDl-b0mUBzyNo3_LRV_-pcQIt2ig9-t46BkrlYNy67ctmyZZg4Vm9l1pM1g9Cb4vCstbrB7eSsikx1oIH2aV8_FB7HjWzN0GSkyzL0xFI3wrnevz0jb9AScKnO0lqr4ckUV84cOIyD0VX8wjI3HukUUUPgKTzE7zM5ePm9IEBj8icvSIhN1cRdwhOHs_IP_Pay59VrjMG_SEM_egKm2FS7XqzeKjDQxCWu6NfMnKZCw278nqQGI9cZ5xTAkXK4VVavP6-x0jgZ01EfchyoICMXgUYcnYklBXoghFS8opxBPQMdFtLbZBpzgrKsVzxrenyXYi6WVYQ8TgUu6NNdhdQU6mXxu-B3TE-3ii57Oz9QhN68LJ0Oz-UTf6mjTPYerq8lOsetEGfHvRyz86G2wn4JHnVWZzduLsSylL_j-DCK4QDGko81qFZ1q6CrblMD5Uw7-hTU14cF3gFGRn-_koZ4cIEYnrwl2ZlhTHaScr46S6gVeaCSmhybHNcedyeucYQAf7ORhU6I7dCh01PlAEdfB47CUgwIpQySbGh027fBs-MQ6KQiFKDzKdJrYEKK0RDBvFSOHydnk9WU7GR_PeT0IGHku6tZUq8oxgZW0g1OejIajsjCURnyRv6_Il9w="
        },
        {
          "type": "function_call",
          "arguments": "{\"foo\":\"test\",\"bar\":[\"foo\",\"bar\"]}",
          "call_id": "call_AdV4F0rQC8p6GKjEHYMBIE29",
          "id": null,
          "name": "run_me",
          "status": null
        },
        {
          "type": "function_call_output",
          "id": null,
          "status": null,
          "call_id": "call_AdV4F0rQC8p6GKjEHYMBIE29",
          "output": "working!"
        }
      ],
      "include": [
        "reasoning.encrypted_content"
      ],
      "instructions": null,
      "max_output_tokens": null,
      "metadata": null,
      "parallel_tool_calls": null,
      "previous_response_id": null,
      "reasoning": null,
      "service_tier": null,
      "store": false,
      "stream": true,
      "temperature": null,
      "text": null,
      "tool_choice": "auto",
      "tools": [],
      "top_p": null,
      "truncation": "auto",
      "user": null
    }
then:
  status: 200
  header:
    - name: content-type
      value: text/event-stream; charset=utf-8
  body: |-
    event: response.created
    data: {"type":"response.created","sequence_number":0,"response":{"id":"resp_031018b8eac6e7860169381b50bae0819dbbfc8a28a24a6a77","object":"response","created_at":1765284688,"status":"in_progress","background":false,"error":null,"incomplete_details":null,"instructions":null,"max_output_tokens":null,"max_tool_calls":null,"model":"gpt-5-mini-2025-08-07","output":[],"parallel_tool_calls":true,"previous_response_id":null,"prompt_cache_key":null,"prompt_cache_retention":null,"reasoning":{"effort":"medium","summary":null},"safety_identifier":null,"service_tier":"auto","store":false,"temperature":1.0,"text":{"format":{"type":"text"},"verbosity":"medium"},"tool_choice":"auto","tools":[],"top_logprobs":0,"top_p":1.0,"truncation":"auto","usage":null,"user":null,"metadata":{}}}

    event: response.in_progress
    data: {"type":"response.in_progress","sequence_number":1,"response":{"id":"resp_031018b8eac6e7860169381b50bae0819dbbfc8a28a24a6a77","object":"response","created_at":1765284688,"status":"in_progress","background":false,"error":null,"incomplete_details":null,"instructions":null,"max_output_tokens":null,"max_tool_calls":null,"model":"gpt-5-mini-2025-08-07","output":[],"parallel_tool_calls":true,"previous_response_id":null,"prompt_cache_key":null,"prompt_cache_retention":null,"reasoning":{"effort":"medium","summary":null},"safety_identifier":null,"service_tier":"auto","store":false,"temperature":1.0,"text":{"format":{"type":"text"},"verbosity":"medium"},"tool_choice":"auto","tools":[],"top_logprobs":0,"top_p":1.0,"truncation":"auto","usage":null,"user":null,"metadata":{}}}

    event: response.output_item.added
    data: {"type":"response.output_item.added","sequence_number":2,"output_index":0,"item":{"id":"msg_031018b8eac6e7860169381b50f7ac819dab6cbffd0a0971b0","type":"message","status":"in_progress","content":[],"role":"assistant"}}

    event: response.content_part.added
    data: {"type":"response.content_part.added","sequence_number":3,"item_id":"msg_031018b8eac6e7860169381b50f7ac819dab6cbffd0a0971b0","output_index":0,"content_index":0,"part":{"type":"output_text","annotations":[],"logprobs":[],"text":""}}

    event: response.output_text.delta
    data: {"type":"response.output_text.delta","sequence_number":4,"item_id":"msg_031018b8eac6e7860169381b50f7ac819dab6cbffd0a0971b0","output_index":0,"content_index":0,"delta":"Tool","logprobs":[],"obfuscation":"VLjOfzyP9SXv"}

    event: response.output_text.delta
    data: {"type":"response.output_text.delta","sequence_number":5,"item_id":"msg_031018b8eac6e7860169381b50f7ac819dab6cbffd0a0971b0","output_index":0,"content_index":0,"delta":" responded","logprobs":[],"obfuscation":"Foh0Wg"}

    event: response.output_text.delta
    data: {"type":"response.output_text.delta","sequence_number":6,"item_id":"msg_031018b8eac6e7860169381b50f7ac819dab6cbffd0a0971b0","output_index":0,"content_index":0,"delta":":","logprobs":[],"obfuscation":"WZsQ5DTgND0lruM"}

    event: response.output_text.delta
    data: {"type":"response.output_text.delta","sequence_number":7,"item_id":"msg_031018b8eac6e7860169381b50f7ac819dab6cbffd0a0971b0","output_index":0,"content_index":0,"delta":" working","logprobs":[],"obfuscation":"8zk3LIZJ"}

    event: response.output_text.delta
    data: {"type":"response.output_text.delta","sequence_number":8,"item_id":"msg_031018b8eac6e7860169381b50f7ac819dab6cbffd0a0971b0","output_index":0,"content_index":0,"delta":"!","logprobs":[],"obfuscation":"lYVKgoh8BTBUmMo"}

    event: response.output_text.done
    data: {"type":"response.output_text.done","sequence_number":9,"item_id":"msg_031018b8eac6e7860169381b50f7ac819dab6cbffd0a0971b0","output_index":0,"content_index":0,"text":"Tool responded: working!","logprobs":[]}

    event: response.content_part.done
    data: {"type":"response.content_part.done","sequence_number":10,"item_id":"msg_031018b8eac6e7860169381b50f7ac819dab6cbffd0a0971b0","output_index":0,"content_index":0,"part":{"type":"output_text","annotations":[],"logprobs":[],"text":"Tool responded: working!"}}

    event: response.output_item.done
    data: {"type":"response.output_item.done","sequence_number":11,"output_index":0,"item":{"id":"msg_031018b8eac6e7860169381b50f7ac819dab6cbffd0a0971b0","type":"message","status":"completed","content":[{"type":"output_text","annotations":[],"logprobs":[],"text":"Tool responded: working!"}],"role":"assistant"}}

    event: response.completed
    data: {"type":"response.completed","sequence_number":12,"response":{"id":"resp_031018b8eac6e7860169381b50bae0819dbbfc8a28a24a6a77","object":"response","created_at":1765284688,"status":"completed","background":false,"error":null,"incomplete_details":null,"instructions":null,"max_output_tokens":null,"max_tool_calls":null,"model":"gpt-5-mini-2025-08-07","output":[{"id":"msg_031018b8eac6e7860169381b50f7ac819dab6cbffd0a0971b0","type":"message","status":"completed","content":[{"type":"output_text","annotations":[],"logprobs":[],"text":"Tool responded: working!"}],"role":"assistant"}],"parallel_tool_calls":true,"previous_response_id":null,"prompt_cache_key":null,"prompt_cache_retention":null,"reasoning":{"effort":"medium","summary":null},"safety_identifier":null,"service_tier":"default","store":false,"temperature":1.0,"text":{"format":{"type":"text"},"verbosity":"medium"},"tool_choice":"auto","tools":[],"top_logprobs":0,"top_p":1.0,"truncation":"auto","usage":{"input_tokens":204,"input_tokens_details":{"cached_tokens":0},"output_tokens":9,"output_tokens_details":{"reasoning_tokens":0},"total_tokens":213},"user":null,"metadata":{}}}
