when:
  path: /api/v1/chat/completions
  method: POST
  json_body_str: >-
    {
      "model": "google/gemini-2.5-flash",
      "messages": [
        {
          "role": "user",
          "content": [
            {
              "type": "text",
              "text": "Test message"
            }
          ]
        }
      ],
      "reasoning": {
        "exclude": false,
        "effort": "low"
      },
      "stream": true
    }
then:
  status: 200
  header:
    - name: content-type
      value: text/event-stream
  body: |-
    : OPENROUTER PROCESSING

    : OPENROUTER PROCESSING

    : OPENROUTER PROCESSING

    data: {"id":"gen-1765284570-hdszteMt6PmYqogeguzB","provider":"Google","model":"google/gemini-2.5-flash","object":"chat.completion.chunk","created":1765284570,"choices":[{"index":0,"delta":{"role":"assistant","content":"","reasoning":"**Acknowledging Receipt of Message**\n\nI've processed the simple \"Test message.\" My immediate focus is on acknowledging receipt. The optimal response, I believe, involves a direct confirmation that the system has registered the input. The key is to keep it concise and unambiguous.\n\n\n","reasoning_details":[{"type":"reasoning.text","text":"**Acknowledging Receipt of Message**\n\nI've processed the simple \"Test message.\" My immediate focus is on acknowledging receipt. The optimal response, I believe, involves a direct confirmation that the system has registered the input. The key is to keep it concise and unambiguous.\n\n\n","format":"google-gemini-v1","index":0}]},"finish_reason":null,"native_finish_reason":null,"logprobs":null}]}

    data: {"id":"gen-1765284570-hdszteMt6PmYqogeguzB","provider":"Google","model":"google/gemini-2.5-flash","object":"chat.completion.chunk","created":1765284570,"choices":[{"index":0,"delta":{"role":"assistant","content":"Received! How can I help you today?","reasoning":null,"reasoning_details":[]},"finish_reason":"stop","native_finish_reason":"STOP","logprobs":null}]}

    data: {"id":"gen-1765284570-hdszteMt6PmYqogeguzB","provider":"Google","model":"google/gemini-2.5-flash","object":"chat.completion.chunk","created":1765284570,"choices":[{"index":0,"delta":{"role":"assistant","content":""},"finish_reason":null,"native_finish_reason":null,"logprobs":null}],"usage":{"prompt_tokens":2,"completion_tokens":42,"total_tokens":44,"cost":0.0001056,"is_byok":false,"prompt_tokens_details":{"cached_tokens":0,"audio_tokens":0,"video_tokens":0},"cost_details":{"upstream_inference_cost":null,"upstream_inference_prompt_cost":6e-7,"upstream_inference_completions_cost":0.000105},"completion_tokens_details":{"reasoning_tokens":33,"image_tokens":0}}}

    data: [DONE]
