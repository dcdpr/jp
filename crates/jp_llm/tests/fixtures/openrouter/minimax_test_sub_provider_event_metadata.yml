when:
  path: /api/v1/chat/completions
  method: POST
  json_body_str: >-
    {
      "model": "minimax/minimax-m2",
      "messages": [
        {
          "role": "user",
          "content": [
            {
              "type": "text",
              "text": "Test message"
            }
          ]
        }
      ],
      "reasoning": {
        "exclude": false,
        "effort": "low"
      },
      "stream": true
    }
then:
  status: 200
  header:
    - name: content-type
      value: text/event-stream
  body: |+
    : OPENROUTER PROCESSING
    
    : OPENROUTER PROCESSING
    
    : OPENROUTER PROCESSING
    
    : OPENROUTER PROCESSING
    
    : OPENROUTER PROCESSING
    
    data: {"id":"gen-1771419293-pCIcnpxtaSuYmNosDEv2","provider":"Minimax","model":"minimax/minimax-m2","object":"chat.completion.chunk","created":1771419293,"choices":[{"index":0,"delta":{"role":"assistant","content":"","reasoning":"The user","reasoning_details":[{"type":"reasoning.text","text":"The user","index":0,"format":null}]},"finish_reason":null,"native_finish_reason":null,"logprobs":null}]}
    
    : OPENROUTER PROCESSING
    
    data: {"id":"gen-1771419293-pCIcnpxtaSuYmNosDEv2","provider":"Minimax","model":"minimax/minimax-m2","object":"chat.completion.chunk","created":1771419293,"choices":[{"index":0,"delta":{"role":"assistant","content":"","reasoning":" has sent a test message. This is a simple greeting or test to see if I'm working. I should respond in a friendly and","reasoning_details":[{"type":"reasoning.text","text":" has sent a test message. This is a simple greeting or test to see if I'm working. I should respond in a friendly and","index":0,"format":null}]},"finish_reason":null,"native_finish_reason":null,"logprobs":null}]}
    
    data: {"id":"gen-1771419293-pCIcnpxtaSuYmNosDEv2","provider":"Minimax","model":"minimax/minimax-m2","object":"chat.completion.chunk","created":1771419293,"choices":[{"index":0,"delta":{"role":"assistant","content":"Hello! I'm working properly. How can I help you today?","reasoning":" helpful manner.","reasoning_details":[{"type":"reasoning.text","text":" helpful manner.","index":0,"format":null}]},"finish_reason":"stop","native_finish_reason":"stop","logprobs":null}]}
    
    data: {"id":"gen-1771419293-pCIcnpxtaSuYmNosDEv2","provider":"Minimax","model":"minimax/minimax-m2","object":"chat.completion.chunk","created":1771419293,"choices":[{"index":0,"delta":{"role":"assistant","content":""},"finish_reason":null,"native_finish_reason":null,"logprobs":null}],"usage":{"prompt_tokens":41,"completion_tokens":48,"total_tokens":89,"cost":0.000059415,"is_byok":false,"prompt_tokens_details":{"cached_tokens":0,"audio_tokens":0},"cost_details":{"upstream_inference_cost":0.0000699,"upstream_inference_prompt_cost":0.0000123,"upstream_inference_completions_cost":0.0000576},"completion_tokens_details":{"reasoning_tokens":34,"audio_tokens":0}}}
    
    data: [DONE]
    
