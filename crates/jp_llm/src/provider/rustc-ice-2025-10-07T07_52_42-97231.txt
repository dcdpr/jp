thread 'main' panicked at src/tools/rustfmt/src/source_map.rs:31:13:
bad span: `for await`: `for    await event in call(client.clone(), request.clone(), false) {
                            yield event?;
                        }`
stack backtrace:
   0:        0x110e2ddbc - std::backtrace::Backtrace::create::hdf8596d5e17254cc
   1:        0x10ee5e53c - rustc_driver_impl[e79c05f1a6bd4bb8]::install_ice_hook::{closure#1}
   2:        0x110e2ede0 - std::panicking::panic_with_hook::h3920049f4ca211cf
   3:        0x110e2ea8c - std::panicking::panic_handler::{{closure}}::hca9c7fe5eb5e2cbd
   4:        0x110e27fe8 - std::sys::backtrace::__rust_end_short_backtrace::h33b0ec17ad89eb57
   5:        0x110e0c0a0 - __rustc[2d272aba269decd6]::rust_begin_unwind
   6:        0x113b9a810 - core::panicking::panic_fmt::hbe8670e313098c1f
   7:        0x1027ce4fc - <rustfmt_nightly[77a357767e879bec]::visitor::SnippetProvider as rustfmt_nightly[77a357767e879bec]::source_map::SpanUtils>::span_after::{closure#0}
   8:        0x1026c7bb4 - <rustfmt_nightly[77a357767e879bec]::expr::ControlFlow>::rewrite_cond
   9:        0x10274cdc0 - <rustfmt_nightly[77a357767e879bec]::expr::ControlFlow as rustfmt_nightly[77a357767e879bec]::rewrite::Rewrite>::rewrite_result
  10:        0x102703fe8 - rustfmt_nightly[77a357767e879bec]::expr::format_expr
  11:        0x10270bbe8 - rustfmt_nightly[77a357767e879bec]::stmt::format_stmt
  12:        0x1026c0608 - <rustfmt_nightly[77a357767e879bec]::visitor::FmtVisitor>::walk_stmts
  13:        0x1026c0a98 - <rustfmt_nightly[77a357767e879bec]::visitor::FmtVisitor>::walk_stmts
  14:        0x1026c2d78 - <rustfmt_nightly[77a357767e879bec]::visitor::FmtVisitor>::visit_block
  15:        0x10270abdc - rustfmt_nightly[77a357767e879bec]::expr::rewrite_block_with_visitor
  16:        0x102704698 - rustfmt_nightly[77a357767e879bec]::expr::format_expr
  17:        0x10272e470 - rustfmt_nightly[77a357767e879bec]::matches::rewrite_match_body
  18:        0x10273cac4 - <rustfmt_nightly[77a357767e879bec]::matches::ArmWrapper as rustfmt_nightly[77a357767e879bec]::rewrite::Rewrite>::rewrite_result
  19:        0x1026b9114 - <rustfmt_nightly[77a357767e879bec]::lists::ListItems<core[93388bdc3819314a]::iter::adapters::map::Map<core[93388bdc3819314a]::iter::adapters::zip::Zip<core[93388bdc3819314a]::iter::adapters::zip::Zip<core[93388bdc3819314a]::slice::iter::Iter<rustc_ast[9e750a2cd5e7157f]::ast::Arm>, core[93388bdc3819314a]::iter::adapters::chain::Chain<core[93388bdc3819314a]::iter::adapters::take::Take<core[93388bdc3819314a]::iter::sources::repeat::Repeat<bool>>, core[93388bdc3819314a]::iter::sources::repeat::Repeat<bool>>>, alloc[ce142ceb26ec8be6]::vec::into_iter::IntoIter<core[93388bdc3819314a]::option::Option<rustc_span[af34d44020838690]::BytePos>>>, rustfmt_nightly[77a357767e879bec]::matches::rewrite_match_arms::{closure#0}>, rustfmt_nightly[77a357767e879bec]::matches::rewrite_match_arms::{closure#1}, rustfmt_nightly[77a357767e879bec]::matches::rewrite_match_arms::{closure#2}, rustfmt_nightly[77a357767e879bec]::matches::rewrite_match_arms::{closure#3}> as core[93388bdc3819314a]::iter::traits::iterator::Iterator>::next::{closure#0}
  20:        0x10272d760 - rustfmt_nightly[77a357767e879bec]::matches::rewrite_match_arms
  21:        0x10272c99c - rustfmt_nightly[77a357767e879bec]::matches::rewrite_match
  22:        0x1027039ec - rustfmt_nightly[77a357767e879bec]::expr::format_expr
  23:        0x10270bbe8 - rustfmt_nightly[77a357767e879bec]::stmt::format_stmt
  24:        0x1026c0608 - <rustfmt_nightly[77a357767e879bec]::visitor::FmtVisitor>::walk_stmts
  25:        0x1026c0a98 - <rustfmt_nightly[77a357767e879bec]::visitor::FmtVisitor>::walk_stmts
  26:        0x1026c0a98 - <rustfmt_nightly[77a357767e879bec]::visitor::FmtVisitor>::walk_stmts
  27:        0x1026c0a98 - <rustfmt_nightly[77a357767e879bec]::visitor::FmtVisitor>::walk_stmts
  28:        0x1026c2d78 - <rustfmt_nightly[77a357767e879bec]::visitor::FmtVisitor>::visit_block
  29:        0x10270abdc - rustfmt_nightly[77a357767e879bec]::expr::rewrite_block_with_visitor
  30:        0x10274ce84 - <rustfmt_nightly[77a357767e879bec]::expr::ControlFlow as rustfmt_nightly[77a357767e879bec]::rewrite::Rewrite>::rewrite_result
  31:        0x102703fe8 - rustfmt_nightly[77a357767e879bec]::expr::format_expr
  32:        0x10270bbe8 - rustfmt_nightly[77a357767e879bec]::stmt::format_stmt
  33:        0x1026c0608 - <rustfmt_nightly[77a357767e879bec]::visitor::FmtVisitor>::walk_stmts
  34:        0x1026c2d78 - <rustfmt_nightly[77a357767e879bec]::visitor::FmtVisitor>::visit_block
  35:        0x10270abdc - rustfmt_nightly[77a357767e879bec]::expr::rewrite_block_with_visitor
  36:        0x10274ce84 - <rustfmt_nightly[77a357767e879bec]::expr::ControlFlow as rustfmt_nightly[77a357767e879bec]::rewrite::Rewrite>::rewrite_result
  37:        0x102703fe8 - rustfmt_nightly[77a357767e879bec]::expr::format_expr
  38:        0x10270bbe8 - rustfmt_nightly[77a357767e879bec]::stmt::format_stmt
  39:        0x1026c0608 - <rustfmt_nightly[77a357767e879bec]::visitor::FmtVisitor>::walk_stmts
  40:        0x1026c0a98 - <rustfmt_nightly[77a357767e879bec]::visitor::FmtVisitor>::walk_stmts
  41:        0x1026c0a98 - <rustfmt_nightly[77a357767e879bec]::visitor::FmtVisitor>::walk_stmts
  42:        0x1026c0a98 - <rustfmt_nightly[77a357767e879bec]::visitor::FmtVisitor>::walk_stmts
  43:        0x1026c0a98 - <rustfmt_nightly[77a357767e879bec]::visitor::FmtVisitor>::walk_stmts
  44:        0x1026c0a98 - <rustfmt_nightly[77a357767e879bec]::visitor::FmtVisitor>::walk_stmts
  45:        0x1026c2d78 - <rustfmt_nightly[77a357767e879bec]::visitor::FmtVisitor>::visit_block
  46:        0x10270abdc - rustfmt_nightly[77a357767e879bec]::expr::rewrite_block_with_visitor
  47:        0x102709a84 - rustfmt_nightly[77a357767e879bec]::expr::rewrite_block_inner
  48:        0x102703d08 - rustfmt_nightly[77a357767e879bec]::expr::format_expr
  49:        0x10273c078 - <rustfmt_nightly[77a357767e879bec]::macros::MacroArg as rustfmt_nightly[77a357767e879bec]::rewrite::Rewrite>::rewrite_result
  50:        0x1026692fc - <rustfmt_nightly[77a357767e879bec]::overflow::OverflowableItem>::map::<<rustfmt_nightly[77a357767e879bec]::overflow::OverflowableItem as rustfmt_nightly[77a357767e879bec]::rewrite::Rewrite>::rewrite::{closure#0}, core[93388bdc3819314a]::option::Option<alloc[ce142ceb26ec8be6]::string::String>>
  51:        0x1026cee58 - <rustfmt_nightly[77a357767e879bec]::overflow::Context>::rewrite
  52:        0x1026764a0 - rustfmt_nightly[77a357767e879bec]::overflow::rewrite_with_parens::<rustfmt_nightly[77a357767e879bec]::macros::MacroArg, core[93388bdc3819314a]::slice::iter::Iter<rustfmt_nightly[77a357767e879bec]::macros::MacroArg>>
  53:        0x10272044c - rustfmt_nightly[77a357767e879bec]::macros::rewrite_macro
  54:        0x102703a10 - rustfmt_nightly[77a357767e879bec]::expr::format_expr
  55:        0x1026cf100 - <rustfmt_nightly[77a357767e879bec]::overflow::Context>::rewrite
  56:        0x102705540 - rustfmt_nightly[77a357767e879bec]::expr::rewrite_call
  57:        0x102704218 - rustfmt_nightly[77a357767e879bec]::expr::format_expr
  58:        0x10270bbe8 - rustfmt_nightly[77a357767e879bec]::stmt::format_stmt
  59:        0x1026c0608 - <rustfmt_nightly[77a357767e879bec]::visitor::FmtVisitor>::walk_stmts
  60:        0x1026c2d78 - <rustfmt_nightly[77a357767e879bec]::visitor::FmtVisitor>::visit_block
  61:        0x1026c4990 - <rustfmt_nightly[77a357767e879bec]::visitor::FmtVisitor>::visit_fn
  62:        0x1026bf7c0 - <rustfmt_nightly[77a357767e879bec]::visitor::FmtVisitor>::visit_item
  63:        0x1026f99e8 - <rustfmt_nightly[77a357767e879bec]::visitor::FmtVisitor>::visit_items_with_reordering
  64:        0x1026c3630 - <rustfmt_nightly[77a357767e879bec]::visitor::FmtVisitor>::walk_mod_items
  65:        0x1026c3f78 - <rustfmt_nightly[77a357767e879bec]::visitor::FmtVisitor>::format_separate_mod
  66:        0x1026571d8 - <rustfmt_nightly[77a357767e879bec]::Session<std[34dc801696c43b5d]::io::stdio::Stdout>>::format_input_inner::{closure#0}
  67:        0x10264acb4 - rustfmt[dcae8f48e314a09b]::format_and_emit_report::<std[34dc801696c43b5d]::io::stdio::Stdout>
  68:        0x10265bd68 - rustfmt[dcae8f48e314a09b]::execute
  69:        0x102658c0c - rustfmt[dcae8f48e314a09b]::main
  70:        0x102654dc0 - std[34dc801696c43b5d]::sys::backtrace::__rust_begin_short_backtrace::<fn(), ()>
  71:        0x1026551e4 - std[34dc801696c43b5d]::rt::lang_start::<()>::{closure#0}
  72:        0x110e19434 - std::rt::lang_start_internal::he4133572dc159de9
  73:        0x102665ad4 - _main


rustc version: 1.91.0-nightly (af00ff2ce 2025-09-04)
platform: aarch64-apple-darwin